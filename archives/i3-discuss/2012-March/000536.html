<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [i3] i3status patch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20i3status%20patch&In-Reply-To=%3CCA%2BtYn00FRjiQ3csgR3kTLcxoQqHdYRyeCFhCyZAMXq8yCBuumg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000533.html">
   <LINK REL="Next"  HREF="000539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[i3] i3status patch</H1>
    <B>Pavel L&#246;bl</B> 
    <A HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20i3status%20patch&In-Reply-To=%3CCA%2BtYn00FRjiQ3csgR3kTLcxoQqHdYRyeCFhCyZAMXq8yCBuumg%40mail.gmail.com%3E"
       TITLE="[i3] i3status patch">lobl.pavel at gmail.com
       </A><BR>
    <I>Sat Mar 10 21:33:44 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000533.html">[i3] hide floating windows
</A></li>
        <LI>Next message: <A HREF="000539.html">[i3] i3status patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#536">[ date ]</a>
              <a href="thread.html#536">[ thread ]</a>
              <a href="subject.html#536">[ subject ]</a>
              <a href="author.html#536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I know i3status is already efficient, so it's probably not a big
hurt to set the refresh time quite low. But sometimes it
would be nice to reflect changes immediately.

Adding empty signal handler to i3status allows me to interrupt
nanosleep call by sendig USR1 signal and print the output sooner
then next update comes.

172,175d17
&lt; void sig_handler (int sigint) {
&lt;         /* do nothing, we just interrupted nanosleep */
&lt; }
&lt;
286,287d281
&lt;
&lt;         signal (SIGUSR1, sig_handler);

But this likely requires all the other calls in i3status properly handle
EINTR error. I've not read the whole source but just `grep -r  EINTR *`
gives nothing.

So would it be possible to have something like this in i3status or it's
just an ugly hack?
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000533.html">[i3] hide floating windows
</A></li>
	<LI>Next message: <A HREF="000539.html">[i3] i3status patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#536">[ date ]</a>
              <a href="thread.html#536">[ thread ]</a>
              <a href="subject.html#536">[ subject ]</a>
              <a href="author.html#536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">More information about the i3-discuss
mailing list</a><br>
</body></html>
