<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [i3] i3bar: toggle mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20i3bar%3A%20toggle%20mode&In-Reply-To=%3C516986A0.1090500%40web.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001267.html">
   <LINK REL="Next"  HREF="001270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[i3] i3bar: toggle mode</H1>
    <B>justus jonas</B> 
    <A HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20i3bar%3A%20toggle%20mode&In-Reply-To=%3C516986A0.1090500%40web.de%3E"
       TITLE="[i3] i3bar: toggle mode">haptix at web.de
       </A><BR>
    <I>Sat Apr 13 18:24:00 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001267.html">[i3] i3bar: toggle mode
</A></li>
        <LI>Next message: <A HREF="001270.html">[i3] i3bar: toggle mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1269">[ date ]</a>
              <a href="thread.html#1269">[ thread ]</a>
              <a href="subject.html#1269">[ subject ]</a>
              <a href="author.html#1269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

thanks for the respond, Michael and Axel. I also like the proposed idea 
of letting i3 handle the i3bar toggling.

Initially, I thought of a separate toggle mode for i3bar, which would 
behave just the same as the hide mode when it comes to unhiding because 
of an urgency hint or an activated mode. But it would differ in a sense 
that pressing the i3bar modifier would toggle between showing and 
hiding, instead of showing on key-press and hiding on key-release. But 
what you two said makes sense to me.

As far as I understand Axel's suggestion, we would also need another 
command for returning to the original hide mode, as the show command 
would unhide the bar by all means, and the hide command would hide the 
bar by all means.

The situation for me looks like this:
When in dock mode, every bar command is ignored and everything is 
handled like it is now. If in hide mode:
-bar show: always show i3bar, as if the mod was always pressed.
-bar hide: hide the bar and return to normal hide mode, the modifier and 
urgency hints unhide the bar.
-bar forcehide: always hide i3bar, until another bar command tells it to 
do so.
-bar toggle: this could either cycle through the above mentioned three 
variants or it could toggle between &quot;bar show&quot;/&quot;bar hide&quot; or between 
&quot;bar show&quot;/&quot;bar forcehide&quot;. For my usecases, I would prefer the second 
option.

What do you think?

Best
jj

Am 13.04.2013 16:29, schrieb Axel Wagner:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> basically I like Michael's way, just a few additional questions/thoughts:
</I>&gt;<i>
</I>&gt;<i> How does the manual toggling play together with the autohiding and the
</I>&gt;<i> urgency-hint? Because I (obviously) like the way it's done now, in
</I>&gt;<i> general, but also would want to take advantage of an explizit hiding or
</I>&gt;<i> showing (for example hiding it despite urgency-hints during
</I>&gt;<i> presentations, or watch some output of i3bar for a while).
</I>&gt;<i> There are a couple of reasonings one could take, which would suggest
</I>&gt;<i> different behaviours, I for my reason would like the following, if it is
</I>&gt;<i> not too complicated: When mode is hide, do the old autohiding thing, if
</I>&gt;<i> sent a &#8222;hide&#8220;-command, make it hidden (i.e. ignore urgency-hints and
</I>&gt;<i> hide-modificator), if sent a &#8222;show&#8220;-command, make it show (i.e. treat
</I>&gt;<i> the hide-modificator as always pressed).
</I>&gt;<i>
</I>&gt;<i> Excerpts from Michael Stapelberg's message of 2013-04-13 15:59:14 +0200:
</I>&gt;&gt;<i> 2) Introduce a new i3 command named &#8220;bar toggle&#8221; (bonus points for also
</I>&gt;&gt;<i>     implementing &#8220;bar show&#8221; and &#8220;bar hide&#8221;, they are trivial), that
</I>&gt;&gt;<i>     optionally accepts a parameter, which is the bar id.
</I>&gt;<i>
</I>&gt;<i> For this, imho, there should also (but possibly later in a seperate
</I>&gt;<i> patch) be a way to identify the bar in the config. As far as I know, the
</I>&gt;<i> identifier currently is a random string generated by i3, but if there
</I>&gt;<i> are key-bindings in the i3-config to controll the bars, this is not
</I>&gt;<i> sufficient, because it is only know at runtime (is it?).
</I>&gt;<i>
</I>&gt;&gt;<i> 3) Users configure e.g. &#8220;bindsym $mod+x bar toggle&#8221; in their i3 config,
</I>&gt;&gt;<i>     i3 sends the config update with &#8220;hidden&#8221; as state to all bar
</I>&gt;&gt;<i>     instances (or only the specified one).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The advantages are:
</I>&gt;&gt;<i> &#8226; i3 already provides keybinding configuration, so it should probably go
</I>&gt;&gt;<i>    into i3 anyways
</I>&gt;<i>
</I>&gt;<i> Again, in the long-run, this could also mean simplifying i3bar by
</I>&gt;<i> ripping out all this key-handling-code and have i3 handle that - it
</I>&gt;<i> would only be the continuation of that logic. That would mean that (to
</I>&gt;<i> make the current behaviour possible) we need to be able to make bindings
</I>&gt;<i> on key-press and key-releases.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Well, all that just as general thoughts ;) The latter two have no
</I>&gt;<i> immediate significance to this feature, but the first should be decided.
</I>&gt;<i>
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001267.html">[i3] i3bar: toggle mode
</A></li>
	<LI>Next message: <A HREF="001270.html">[i3] i3bar: toggle mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1269">[ date ]</a>
              <a href="thread.html#1269">[ thread ]</a>
              <a href="subject.html#1269">[ subject ]</a>
              <a href="author.html#1269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">More information about the i3-discuss
mailing list</a><br>
</body></html>
