<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [i3] i3bar: toggle mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20i3bar%3A%20toggle%20mode&In-Reply-To=%3C517E6E02.4050303%40web.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001284.html">
   <LINK REL="Next"  HREF="001287.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[i3] i3bar: toggle mode</H1>
    <B>justus jonas</B> 
    <A HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20i3bar%3A%20toggle%20mode&In-Reply-To=%3C517E6E02.4050303%40web.de%3E"
       TITLE="[i3] i3bar: toggle mode">haptix at web.de
       </A><BR>
    <I>Mon Apr 29 14:56:34 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001284.html">[i3] i3bar: toggle mode
</A></li>
        <LI>Next message: <A HREF="001287.html">[i3] There are two bars in my desktop in the same time!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1290">[ date ]</a>
              <a href="thread.html#1290">[ thread ]</a>
              <a href="subject.html#1290">[ subject ]</a>
              <a href="author.html#1290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael,

we previously discussed a patch for controlling the hidden state of 
i3bar through an i3 command. With this working, we could also define the 
bar_modifier as a bindsym command. I did not have time to work on a full 
patch for binding just modifier keys so far, but tried out some stuff. 
Thereby, I discovered the following problem with this approach:

When pressing a defined keybinding, the click events of the mouse are 
not send to the focused window until the keybinding is released. This 
causes a problem when trying to show i3bar by pressing a key and hiding 
it again by releasing the key. So, trying to click, e.g., on a tray icon 
would not work, as the click event is send to i3bar just after the 
keybinding was released. Any suggestions on how to solve this?

Best
jj

Am 17.04.2013 20:32, schrieb Michael Stapelberg:
&gt;<i> Hi justus,
</I>&gt;<i>
</I>&gt;<i> justus jonas &lt;<A HREF="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">haptix at web.de</A>&gt; writes:
</I>&gt;&gt;<i> For this to work, we would need the following:
</I>&gt;&gt;<i> (1) Like Axel said, we would need the possibility to react to keypress
</I>&gt;&gt;<i> and keyrelease separately and would need to overload a key, so I could
</I>&gt;&gt;<i> use windows-key as bar modifier and still use keybinding like
</I>&gt;&gt;<i> windows+h.
</I>&gt;<i> See <A HREF="http://bugs.i3wm.org/query/ticket/386">http://bugs.i3wm.org/query/ticket/386</A> for binding just a modifier
</I>&gt;<i> (combination). It could be as simple as changing the config file parser,
</I>&gt;<i> but I haven&#8217;t tested that.
</I>&gt;<i>
</I>&gt;&gt;<i> (2) With the new event for sending barconfig updates, it would be easy
</I>&gt;&gt;<i> to add a possibility to switch modes on the fly (also demanded in
</I>&gt;&gt;<i> feature request #651). This would then make it possible, to switch to
</I>&gt;&gt;<i> the new &quot;forcehide&quot; mode.
</I>&gt;<i> I think #651 is well handled with your current patch already. Am I
</I>&gt;<i> missing something?
</I>&gt;<i>
</I>&gt;&gt;<i> So the current hide-behaviour of i3bar using the barmodifier could be
</I>&gt;&gt;<i> configured like this:
</I>&gt;&gt;<i> bindsym $mod bar show
</I>&gt;&gt;<i> bindsym --release $mod bar hide
</I>&gt;<i> You do realize that bindsym --release does exist, right? It even works,
</I>&gt;<i> but I&#8217;m not sure if this specific case is handled.
</I>&gt;<i>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001284.html">[i3] i3bar: toggle mode
</A></li>
	<LI>Next message: <A HREF="001287.html">[i3] There are two bars in my desktop in the same time!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1290">[ date ]</a>
              <a href="thread.html#1290">[ thread ]</a>
              <a href="subject.html#1290">[ subject ]</a>
              <a href="author.html#1290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">More information about the i3-discuss
mailing list</a><br>
</body></html>
