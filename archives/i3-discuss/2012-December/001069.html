<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [i3] Ubuntu 12.10, i3status and new libxkbcommon &gt;= 0.2.0 dependency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20Ubuntu%2012.10%2C%20i3status%20and%20new%20libxkbcommon%20%3E%3D%200.2.0%20dependency&In-Reply-To=%3Calpine.DEB.2.02.1212052031530.14960%40saturn%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001068.html">
   <LINK REL="Next"  HREF="001070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[i3] Ubuntu 12.10, i3status and new libxkbcommon &gt;= 0.2.0 dependency</H1>
    <B>Giorgos Keramidas</B> 
    <A HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20Ubuntu%2012.10%2C%20i3status%20and%20new%20libxkbcommon%20%3E%3D%200.2.0%20dependency&In-Reply-To=%3Calpine.DEB.2.02.1212052031530.14960%40saturn%3E"
       TITLE="[i3] Ubuntu 12.10, i3status and new libxkbcommon &gt;= 0.2.0 dependency">gkeramidas at gmail.com
       </A><BR>
    <I>Wed Dec  5 20:37:36 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001068.html">[i3] Hotkey to resize a terminal?
</A></li>
        <LI>Next message: <A HREF="001070.html">[i3] Ubuntu 12.10,	i3status and new libxkbcommon &gt;= 0.2.0 dependency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1069">[ date ]</a>
              <a href="thread.html#1069">[ thread ]</a>
              <a href="subject.html#1069">[ subject ]</a>
              <a href="author.html#1069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Building i3status from git sources used to work up to commit
e1d86a327945111b99148650dc536c9ad8598cc1 in Ubuntu 12.10, but
after this commit I get link-time errors like this:

% i3lock.o: In function `load_keymap':
% i3lock.c:(.text+0x253): undefined reference to `xkb_keymap_unref'
% i3lock.c:(.text+0x275): undefined reference to `xkb_keymap_new_from_file'
% i3lock.o: In function `handle_key_press':
% i3lock.c:(.text+0x650): undefined reference to `xkb_state_key_get_one_sym'
% collect2: &#963;&#966;&#940;&#955;&#956;&#945;: &#951; ld &#949;&#960;&#941;&#963;&#964;&#961;&#949;&#968;&#949; &#954;&#945;&#964;&#940;&#963;&#964;&#945;&#963;&#951; &#949;&#958;&#972;&#948;&#959;&#965; 1

I managed to track this down to libxkbcommon-dev being too old in
Ubuntu 12.10.  The version available in the repositories I am
using for 12.10 (quantal) do not include libxkbcommon-dev &gt;= 0.2.0.
At least not yet...

Yet this commit includes the following change in README:

% $ git show e1d86a3
% commit e1d86a327945111b99148650dc536c9ad8598cc1
% Author: Michael Stapelberg &lt;<A HREF="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">michael at stapelberg.de</A>&gt;
% Date:   Fri Oct 26 20:24:55 2012 +0200
%
%     use libxkbcommon for input handling
%
%     Thanks to Ran Benita and Daniel Stone (the libxkbcommon authors) for
%     answering my questions and reviewing this code.
%
%     With this commit, input handling should be more correct with using less
%     code (in i3lock, that is).
% ...
% diff --git a/README b/README
% index 99e0af5..2e648a7 100644
% --- a/README
% +++ b/README
% @@ -27,6 +27,9 @@ Requirements
%  - libxcb-xinerama
%  - libev
%  - libx11-dev
% +- libx11-xcb-dev
% +- libxkbfile-dev
% +- libxkbcommon &gt;= 0.2.0
%
%  Running i3lock
%  -------------

Since Ubuntu 12.10 is supposed to be a fairly 'modern' Linux
distribution but it still lacks this version of libxkbcommon,
what's the recommended way of building i3status on it?

--
Giorgos Keramidas; <A HREF="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">gkeramidas at gmail.com</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001068.html">[i3] Hotkey to resize a terminal?
</A></li>
	<LI>Next message: <A HREF="001070.html">[i3] Ubuntu 12.10,	i3status and new libxkbcommon &gt;= 0.2.0 dependency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1069">[ date ]</a>
              <a href="thread.html#1069">[ thread ]</a>
              <a href="subject.html#1069">[ subject ]</a>
              <a href="author.html#1069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">More information about the i3-discuss
mailing list</a><br>
</body></html>
