From honza801 at gmail.com  Thu Oct  2 13:04:30 2014
From: honza801 at gmail.com (Jan Krcmar)
Date: Thu, 2 Oct 2014 13:04:30 +0200
Subject: [i3] gmrun application launcher
Message-ID: <CAKneAXmPq7aBy2cAFbVgO9F94VVysggtVvfWfPAU6rH8Dz2dkA@mail.gmail.com>

hi,

does anybody use gmrun to launch applications instead of dmenu?
i find gmrun much better/faster/friendlier that other launchers.

what other launchers are you using?

thanks
fous
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141002/3eb32bcc/attachment.html>

From mail at tsmithe.net  Thu Oct  2 15:20:24 2014
From: mail at tsmithe.net (Toby St Clere Smithe)
Date: Thu, 02 Oct 2014 15:20:24 +0200
Subject: [i3] gmrun application launcher
References: <CAKneAXmPq7aBy2cAFbVgO9F94VVysggtVvfWfPAU6rH8Dz2dkA@mail.gmail.com>
Message-ID: <87sij6sj53.fsf@tsmithe.net>

Hey,

Jan Krcmar <honza801 at gmail.com> writes:
> does anybody use gmrun to launch applications instead of dmenu?
> i find gmrun much better/faster/friendlier that other launchers.
>
> what other launchers are you using?

I use Synapse[1] for its Zeitgeist integration (it's nice that it can
mostly keep track of files I open regardless of how I open them), though
it isn't much maintained any more, and would welcome something smaller /
better supported with similar features.

[1] https://launchpad.net/synapse-project

Cheers,

Toby


-- 
Toby St Clere Smithe
http://tsmithe.net


From jk at zognet.com  Thu Oct  2 15:48:01 2014
From: jk at zognet.com (Gerald Klein)
Date: Thu, 2 Oct 2014 08:48:01 -0500
Subject: [i3] gmrun application launcher
In-Reply-To: <87sij6sj53.fsf@tsmithe.net>
References: <CAKneAXmPq7aBy2cAFbVgO9F94VVysggtVvfWfPAU6rH8Dz2dkA@mail.gmail.com>
 <87sij6sj53.fsf@tsmithe.net>
Message-ID: <CAP8NtCz7w1Kgwozcz4MJd=TV2M=8nt3iHdNJELT42zWXa76tAA@mail.gmail.com>

Yea I have used a couple like that, I use grun, it has memory it also
searches path for executable s, so when you start typing finds them, I like
it a lot, I use it more then dmenu

On Thu, Oct 2, 2014 at 8:20 AM, Toby St Clere Smithe <mail at tsmithe.net>
wrote:

> Hey,
>
> Jan Krcmar <honza801 at gmail.com> writes:
> > does anybody use gmrun to launch applications instead of dmenu?
> > i find gmrun much better/faster/friendlier that other launchers.
> >
> > what other launchers are you using?
>
> I use Synapse[1] for its Zeitgeist integration (it's nice that it can
> mostly keep track of files I open regardless of how I open them), though
> it isn't much maintained any more, and would welcome something smaller /
> better supported with similar features.
>
> [1] https://launchpad.net/synapse-project
>
> Cheers,
>
> Toby
>
>
> --
> Toby St Clere Smithe
> http://tsmithe.net
>
>


-- 

Gerald Klein DBA

ContactMe at geraldklein.com

www.geraldklein.com <http://geraldklein.com/>

geraldklein.wordpress.com

jk at zognet.com

708-599-0352


Arch, Gentoo I3, Ranger & Vim the coding triple threat.

Linux registered user #548580

Brought to you by the Amish Mafia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141002/e15fa957/attachment.html>

From public at enkore.de  Thu Oct  2 17:15:45 2014
From: public at enkore.de (Marian Beermann)
Date: Thu, 02 Oct 2014 17:15:45 +0200
Subject: [i3] gmrun application launcher
In-Reply-To: <CAP8NtCz7w1Kgwozcz4MJd=TV2M=8nt3iHdNJELT42zWXa76tAA@mail.gmail.com>
References: <CAKneAXmPq7aBy2cAFbVgO9F94VVysggtVvfWfPAU6rH8Dz2dkA@mail.gmail.com>
 <87sij6sj53.fsf@tsmithe.net>
 <CAP8NtCz7w1Kgwozcz4MJd=TV2M=8nt3iHdNJELT42zWXa76tAA@mail.gmail.com>
Message-ID: <542D6C21.4010105@enkore.de>

There's also https://github.com/enkore/j4-dmenu-desktop which is
essentially the same tool that comes with i3, just a lot faster.

On 02.10.2014 15:48, Gerald Klein wrote:
> Yea I have used a couple like that, I use grun, it has memory it also
> searches path for executable s, so when you start typing finds them, I
> like it a lot, I use it more then dmenu
> 
> On Thu, Oct 2, 2014 at 8:20 AM, Toby St Clere Smithe <mail at tsmithe.net
> <mailto:mail at tsmithe.net>> wrote:
> 
>     Hey,
> 
>     Jan Krcmar <honza801 at gmail.com <mailto:honza801 at gmail.com>> writes:
>     > does anybody use gmrun to launch applications instead of dmenu?
>     > i find gmrun much better/faster/friendlier that other launchers.
>     >
>     > what other launchers are you using?
> 
>     I use Synapse[1] for its Zeitgeist integration (it's nice that it can
>     mostly keep track of files I open regardless of how I open them), though
>     it isn't much maintained any more, and would welcome something smaller /
>     better supported with similar features.
> 
>     [1] https://launchpad.net/synapse-project
> 
>     Cheers,
> 
>     Toby
> 
> 
>     --
>     Toby St Clere Smithe
>     http://tsmithe.net
> 
> 
> 
> 
> -- 
> 
> Gerald Klein DBA____
> 
> ContactMe at geraldklein.com <mailto:ContactMe at geraldklein.com>
> 
> www.geraldklein.com <http://geraldklein.com/>____
> 
> geraldklein.wordpress.com <http://geraldklein.wordpress.com>
> 
> jk at zognet.com <mailto:jk at zognet.com>____
> 
> 708-599-0352____
> 
> 
> Arch, Gentoo I3, Ranger & Vim the coding triple threat.
> 
> Linux registered user #548580 
> 
> Brought to you by the Amish Mafia
> 


From joepvandelft at xs4all.nl  Fri Oct  3 22:17:50 2014
From: joepvandelft at xs4all.nl (Joep van Delft)
Date: Fri, 3 Oct 2014 22:17:50 +0200
Subject: [i3] gmrun application launcher
In-Reply-To: <CAKneAXmPq7aBy2cAFbVgO9F94VVysggtVvfWfPAU6rH8Dz2dkA@mail.gmail.com>
References: <CAKneAXmPq7aBy2cAFbVgO9F94VVysggtVvfWfPAU6rH8Dz2dkA@mail.gmail.com>
Message-ID: <20141003221750.1e68bde4@xs4all.nl>

On Thu, 2 Oct 2014 13:04:30 +0200
Jan Krcmar <honza801 at gmail.com> wrote:
> 
> what other launchers are you using?
> 
> thanks
> fous

A rofi user here. It includes, among other things, i3 bindings for
window management. 

https://davedavenport.github.io/rofi/

Cheers, 

Joep

From the_isz at gmx.de  Sat Oct  4 23:15:58 2014
From: the_isz at gmx.de (Timo Schmiade)
Date: Sat, 4 Oct 2014 23:15:58 +0200
Subject: [i3]  Suggestion: Configuration with lua
Message-ID: <20141004211558.GA916@Discworld.fritz.box>

Hi all,

first off: Thanks for this wonderful window manager! I've tried many
others before and this is the only one that doesn't make me look for
other alternatives :)

On topic:

The only thing I think could be improved in i3 is the config. i3 uses
its own configuration file format which is quite restricted. Therefor, I
suggest moving to a well-established scripting language that can be
embedded into i3's C code - lua comes to mind.

The advantages I see:

- Profit from lua's development history to have a safe, stable and yet
  feature-rich embedded scripting language
- Avoid maintenance of own configuration file format (features + bug
  fixes)
- Open lua for scripting: Allow lua callback functions to modify lua's
  behaviour in situations like "New window created" or "Key combination
  pressed"
- Allow users to script configuration, e.g. use for-loop from 0-9 to
  bind keys for switching to workspaces or moving windows to workspaces

What I did so far:

I created a purely C- and lua-based test application which allows:
- Call lua functions from C
- Call C functions from lua
- Pass C structs to lua script
- Modify C structs in lua script

What I could do next:

- Integrate the functionality into i3's codebase
- Create a public git branch (based on i3 'next') to demonstrate and
  discuss

What I can't do:

- Give any guarantees on development time

What I need to know:

- Is this something the i3 developers would want?

Thanks in advance for your time.

Kind regards,

Timo

From mail at merovius.de  Sat Oct  4 23:28:41 2014
From: mail at merovius.de (Axel Wagner)
Date: Sat, 04 Oct 2014 22:28:41 +0100
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <20141004211558.GA916@Discworld.fritz.box>
References: <20141004211558.GA916@Discworld.fritz.box>
Message-ID: <87egun8qye.fsf@rincewind.i-did-not-set--mail-host-address--so-tickle-me>

Hi,

Timo Schmiade <the_isz at gmx.de> writes:
> - Avoid maintenance of own configuration file format (features + bug
>   fixes)

But adding the necessity to maintain a stable API towards LUA, which is
a *lot* more difficult, actually.

> - Is this something the i3 developers would want?

This was actually discussed a lot. As far as I can tell, the general
feeling is, that the IPC-interface is a far better approach. You still
have to maintain an API, but at least you interface with *all*
languages, not just one. Also, as mentioned, if anyone doesn't want to
take advantage of scripting, there is a simple, stable, declarative
configuration format.

So, if you want to be able to easily script i3, a better investment of
your time would be probably, to add more events and commands to the ipc
interface.

Best,

Merovius

From bigby.james at crepcran.com  Sat Oct  4 23:40:09 2014
From: bigby.james at crepcran.com (Bigby James)
Date: Sat, 4 Oct 2014 16:40:09 -0500
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <20141004211558.GA916@Discworld.fritz.box>
References: <20141004211558.GA916@Discworld.fritz.box>
Message-ID: <20141004214009.GA11025@zoho.com>

On 10/04, Timo Schmiade wrote:

> The only thing I think could be improved in i3 is the config. i3 uses
> its own configuration file format which is quite restricted. Therefor, I
> suggest moving to a well-established scripting language that can be
> embedded into i3's C code - lua comes to mind.

i3 can be scripted using the IPC interace.[1] Use it to script various actions,
then bind those actions to key combinations. There's a third-party IPC library
for Lua available.[2]

[1]: http://i3wm.org/docs/ipc.html#_see_also_existing_libraries
[2]: https://github.com/acrisci/i3ipc-lua
-- 
"A common mistake that people make when trying to design something completely
foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams


From tony at dubstepdish.com  Sat Oct  4 23:40:26 2014
From: tony at dubstepdish.com (Tony Crisci)
Date: Sat, 04 Oct 2014 17:40:26 -0400
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <20141004211558.GA916@Discworld.fritz.box>
References: <20141004211558.GA916@Discworld.fritz.box>
Message-ID: <5430694A.4070806@dubstepdish.com>

Hi,

As for a configuration file format, there are a lot of complications 
with using a script, such as requiring people to learn a programming 
language to configure the window manager as well as the technical 
complexity and the matter of backwards compatability. For those reasons, 
I think we are better off where we are for now.

However, i3 is already fully scriptable in Lua with the i3ipc-glib 
project (https://github.com/acrisci/i3ipc-glib).

I even created a wrapper library especially for lua which you can find 
here: https://github.com/acrisci/i3ipc-lua

You are welcome to contribute to either of these projects if you don't 
find the features you want by contributing code or making feature 
requests on those projects.

You can do all the things you mentioned with the ipc events.

Check out all the different window events you can subscribe to: 
http://build.i3wm.org/docs/ipc.html#_window_event

We even just added a "binding" event in the development version you can 
use to listen for keypresses that are bound to a command: 
http://build.i3wm.org/docs/ipc.html#_binding_event

I support this library on the mailing list, the official i3 faq, and in 
the irc channel (nick: TonyC).

On 10/04/2014 05:15 PM, Timo Schmiade wrote:
> Hi all,
>
> first off: Thanks for this wonderful window manager! I've tried many
> others before and this is the only one that doesn't make me look for
> other alternatives :)
>
> On topic:
>
> The only thing I think could be improved in i3 is the config. i3 uses
> its own configuration file format which is quite restricted. Therefor, I
> suggest moving to a well-established scripting language that can be
> embedded into i3's C code - lua comes to mind.
>
> The advantages I see:
>
> - Profit from lua's development history to have a safe, stable and yet
>    feature-rich embedded scripting language
> - Avoid maintenance of own configuration file format (features + bug
>    fixes)
> - Open lua for scripting: Allow lua callback functions to modify lua's
>    behaviour in situations like "New window created" or "Key combination
>    pressed"
> - Allow users to script configuration, e.g. use for-loop from 0-9 to
>    bind keys for switching to workspaces or moving windows to workspaces
>
> What I did so far:
>
> I created a purely C- and lua-based test application which allows:
> - Call lua functions from C
> - Call C functions from lua
> - Pass C structs to lua script
> - Modify C structs in lua script
>
> What I could do next:
>
> - Integrate the functionality into i3's codebase
> - Create a public git branch (based on i3 'next') to demonstrate and
>    discuss
>
> What I can't do:
>
> - Give any guarantees on development time
>
> What I need to know:
>
> - Is this something the i3 developers would want?
>
> Thanks in advance for your time.
>
> Kind regards,
>
> Timo


From the_isz at gmx.de  Sat Oct  4 23:58:13 2014
From: the_isz at gmx.de (Timo Schmiade)
Date: Sat, 4 Oct 2014 23:58:13 +0200
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <20141004214009.GA11025@zoho.com>
References: <20141004211558.GA916@Discworld.fritz.box>
 <20141004214009.GA11025@zoho.com>
Message-ID: <20141004215813.GA1327@Discworld.fritz.box>

Hi Axel and James,

thanks for your replies!

> i3 can be scripted using the IPC interace.[1] Use it to script various actions,
> then bind those actions to key combinations. There's a third-party IPC library
> for Lua available.[2]

Ok, I will try the IPC interface. Thanks for pointing this out!

I still think that having to run, write and maintain a separate process
to communicate with i3 is a little heavy. On the other hand, I have to
admit that rewriting the config file format when there already is the
IPC interface is a little heavy, too.

Kind regards,

Timo

On Sat, Oct 04, 2014 at 04:40:09PM -0500, Bigby James wrote:
> On 10/04, Timo Schmiade wrote:
> 
> > The only thing I think could be improved in i3 is the config. i3 uses
> > its own configuration file format which is quite restricted. Therefor, I
> > suggest moving to a well-established scripting language that can be
> > embedded into i3's C code - lua comes to mind.
> 
> i3 can be scripted using the IPC interace.[1] Use it to script various actions,
> then bind those actions to key combinations. There's a third-party IPC library
> for Lua available.[2]
> 
> [1]: http://i3wm.org/docs/ipc.html#_see_also_existing_libraries
> [2]: https://github.com/acrisci/i3ipc-lua
> -- 
> "A common mistake that people make when trying to design something completely
> foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams
> 

From public at enkore.de  Sun Oct  5 00:02:55 2014
From: public at enkore.de (Marian Beermann)
Date: Sun, 05 Oct 2014 00:02:55 +0200
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <20141004215813.GA1327@Discworld.fritz.box>
References: <20141004211558.GA916@Discworld.fritz.box>
 <20141004214009.GA11025@zoho.com> <20141004215813.GA1327@Discworld.fritz.box>
Message-ID: <54306E8F.9010803@enkore.de>

Idle processes don't use any notable resources (even if they're a
$randomScriptingLanguage interpreter) and memory is plenty, even on
small devices.

On 04.10.2014 23:58, Timo Schmiade wrote:
> Hi Axel and James,
> 
> thanks for your replies!
> 
>> i3 can be scripted using the IPC interace.[1] Use it to script various actions,
>> then bind those actions to key combinations. There's a third-party IPC library
>> for Lua available.[2]
> 
> Ok, I will try the IPC interface. Thanks for pointing this out!
> 
> I still think that having to run, write and maintain a separate process
> to communicate with i3 is a little heavy. On the other hand, I have to
> admit that rewriting the config file format when there already is the
> IPC interface is a little heavy, too.
> 
> Kind regards,
> 
> Timo
> 
> On Sat, Oct 04, 2014 at 04:40:09PM -0500, Bigby James wrote:
>> On 10/04, Timo Schmiade wrote:
>>
>>> The only thing I think could be improved in i3 is the config. i3 uses
>>> its own configuration file format which is quite restricted. Therefor, I
>>> suggest moving to a well-established scripting language that can be
>>> embedded into i3's C code - lua comes to mind.
>>
>> i3 can be scripted using the IPC interace.[1] Use it to script various actions,
>> then bind those actions to key combinations. There's a third-party IPC library
>> for Lua available.[2]
>>
>> [1]: http://i3wm.org/docs/ipc.html#_see_also_existing_libraries
>> [2]: https://github.com/acrisci/i3ipc-lua
>> -- 
>> "A common mistake that people make when trying to design something completely
>> foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams
>>


From the_isz at gmx.de  Sun Oct  5 00:08:52 2014
From: the_isz at gmx.de (Timo Schmiade)
Date: Sun, 5 Oct 2014 00:08:52 +0200
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <5430694A.4070806@dubstepdish.com>
References: <20141004211558.GA916@Discworld.fritz.box>
 <5430694A.4070806@dubstepdish.com>
Message-ID: <20141004220852.GB1327@Discworld.fritz.box>

Hi Tony,

thanks for your reply!

> As for a configuration file format, there are a lot of complications with
> using a script, such as requiring people to learn a programming language to
> configure the window manager as well as the technical complexity and the
> matter of backwards compatability.

I admit that integrating lua into i3 is potentially a bit more complex
than keeping an already existing parser. I thought it would've been
worth a try.

I don't agree with your argument about people having to learn a
programming language, though. First, i3's configuration language is a
language that needs to be learned, too. And secondly: If you want to
script i3 as it is now, you not only have to learn a programming
language, you also need to write, run and maintain your own process
communicating with i3.

However, I will definitely experiment with i3's IPC interface. The good
thing is that there is a python API. Like this, I even get to use my
favourite programming language :)

Kind regards,

Timo

On Sat, Oct 04, 2014 at 05:40:26PM -0400, Tony Crisci wrote:
> Hi,
> 
> As for a configuration file format, there are a lot of complications with
> using a script, such as requiring people to learn a programming language to
> configure the window manager as well as the technical complexity and the
> matter of backwards compatability. For those reasons, I think we are better
> off where we are for now.
> 
> However, i3 is already fully scriptable in Lua with the i3ipc-glib project
> (https://github.com/acrisci/i3ipc-glib).
> 
> I even created a wrapper library especially for lua which you can find here:
> https://github.com/acrisci/i3ipc-lua
> 
> You are welcome to contribute to either of these projects if you don't find
> the features you want by contributing code or making feature requests on
> those projects.
> 
> You can do all the things you mentioned with the ipc events.
> 
> Check out all the different window events you can subscribe to:
> http://build.i3wm.org/docs/ipc.html#_window_event
> 
> We even just added a "binding" event in the development version you can use
> to listen for keypresses that are bound to a command:
> http://build.i3wm.org/docs/ipc.html#_binding_event
> 
> I support this library on the mailing list, the official i3 faq, and in the
> irc channel (nick: TonyC).
> 
> On 10/04/2014 05:15 PM, Timo Schmiade wrote:
> >Hi all,
> >
> >first off: Thanks for this wonderful window manager! I've tried many
> >others before and this is the only one that doesn't make me look for
> >other alternatives :)
> >
> >On topic:
> >
> >The only thing I think could be improved in i3 is the config. i3 uses
> >its own configuration file format which is quite restricted. Therefor, I
> >suggest moving to a well-established scripting language that can be
> >embedded into i3's C code - lua comes to mind.
> >
> >The advantages I see:
> >
> >- Profit from lua's development history to have a safe, stable and yet
> >   feature-rich embedded scripting language
> >- Avoid maintenance of own configuration file format (features + bug
> >   fixes)
> >- Open lua for scripting: Allow lua callback functions to modify lua's
> >   behaviour in situations like "New window created" or "Key combination
> >   pressed"
> >- Allow users to script configuration, e.g. use for-loop from 0-9 to
> >   bind keys for switching to workspaces or moving windows to workspaces
> >
> >What I did so far:
> >
> >I created a purely C- and lua-based test application which allows:
> >- Call lua functions from C
> >- Call C functions from lua
> >- Pass C structs to lua script
> >- Modify C structs in lua script
> >
> >What I could do next:
> >
> >- Integrate the functionality into i3's codebase
> >- Create a public git branch (based on i3 'next') to demonstrate and
> >   discuss
> >
> >What I can't do:
> >
> >- Give any guarantees on development time
> >
> >What I need to know:
> >
> >- Is this something the i3 developers would want?
> >
> >Thanks in advance for your time.
> >
> >Kind regards,
> >
> >Timo
> 

From the_isz at gmx.de  Sun Oct  5 00:10:51 2014
From: the_isz at gmx.de (Timo Schmiade)
Date: Sun, 5 Oct 2014 00:10:51 +0200
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <54306E8F.9010803@enkore.de>
References: <20141004211558.GA916@Discworld.fritz.box>
 <20141004214009.GA11025@zoho.com>
 <20141004215813.GA1327@Discworld.fritz.box>
 <54306E8F.9010803@enkore.de>
Message-ID: <20141004221051.GC1327@Discworld.fritz.box>

Hi Marian,

sorry I didn't express myself clearly. By "a little heavy" I didn't mean
"on the CPU", I meant "on the user" :)

On Sun, Oct 05, 2014 at 12:02:55AM +0200, Marian Beermann wrote:
> Idle processes don't use any notable resources (even if they're a
> $randomScriptingLanguage interpreter) and memory is plenty, even on
> small devices.
> 
> On 04.10.2014 23:58, Timo Schmiade wrote:
> > Hi Axel and James,
> > 
> > thanks for your replies!
> > 
> >> i3 can be scripted using the IPC interace.[1] Use it to script various actions,
> >> then bind those actions to key combinations. There's a third-party IPC library
> >> for Lua available.[2]
> > 
> > Ok, I will try the IPC interface. Thanks for pointing this out!
> > 
> > I still think that having to run, write and maintain a separate process
> > to communicate with i3 is a little heavy. On the other hand, I have to
> > admit that rewriting the config file format when there already is the
> > IPC interface is a little heavy, too.
> > 
> > Kind regards,
> > 
> > Timo
> > 
> > On Sat, Oct 04, 2014 at 04:40:09PM -0500, Bigby James wrote:
> >> On 10/04, Timo Schmiade wrote:
> >>
> >>> The only thing I think could be improved in i3 is the config. i3 uses
> >>> its own configuration file format which is quite restricted. Therefor, I
> >>> suggest moving to a well-established scripting language that can be
> >>> embedded into i3's C code - lua comes to mind.
> >>
> >> i3 can be scripted using the IPC interace.[1] Use it to script various actions,
> >> then bind those actions to key combinations. There's a third-party IPC library
> >> for Lua available.[2]
> >>
> >> [1]: http://i3wm.org/docs/ipc.html#_see_also_existing_libraries
> >> [2]: https://github.com/acrisci/i3ipc-lua
> >> -- 
> >> "A common mistake that people make when trying to design something completely
> >> foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams
> >>
> 

From jafo at jafo.ca  Sun Oct  5 08:57:13 2014
From: jafo at jafo.ca (Sean Reifschneider)
Date: Sun, 05 Oct 2014 00:57:13 -0600
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <20141004220852.GB1327@Discworld.fritz.box>
References: <20141004211558.GA916@Discworld.fritz.box>
 <5430694A.4070806@dubstepdish.com>
 <20141004220852.GB1327@Discworld.fritz.box>
Message-ID: <5430EBC9.1050809@jafo.ca>

On 10/04/14 16:08, Timo Schmiade wrote:
> script i3 as it is now, you not only have to learn a programming
> language, you also need to write, run and maintain your own process
> communicating with i3.

I'm not sure it's reasonable to require everyone who wants to try i3 to
learn the bulk of a general purpose programming language just to make it
easier for the, I would imagine, much less frequent case of people who want
to script it.  On the other hand, it does seem reasonable to allow people
who want to do the scripting to learn the IPC side.

Personally, if i3 had used Lua to configure it, I probably wouldn't have
even given it a second look...  The simple, obvious configuration format
was part of the reason I selected i3.  This was because I came to i3 after
trying xmonad and awesome, both of which use general purpose programming
languages for configuration, neither of which I am familiar with, and both
of which I could barely get snippets of other people's configurations
working because the sheer amount of syntax you have to know to do so.

i3's configuration language isn't a drawback, it is a benefit.

Sean

From ew.ng7125 at nassur.net  Sun Oct  5 16:40:11 2014
From: ew.ng7125 at nassur.net (e.waelde)
Date: Sun, 05 Oct 2014 16:40:11 +0200
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <20141004211558.GA916@Discworld.fritz.box>
References: <20141004211558.GA916@Discworld.fritz.box>
Message-ID: <5431584B.8050603@nassur.net>

Hi all,

most has been said already in this thread, so I just
would like to comment on one point 

On 10/04/2014 11:15 PM, Timo Schmiade wrote:
> On topic:
...
> 
> The only thing I think could be improved in i3 is the config. i3 uses
> its own configuration file format which is quite restricted. Therefor, I
> suggest moving to a well-established scripting language that can be
> embedded into i3's C code - lua comes to mind.
...

I moved from xmonad to i3 *because* I did not grok the "configuration".
xmonad is written in Haskell, and configuring it means to overload certain
functions with your own implementation. While this is elegant it certainly
wasn't my way.

So I'm all happy with i3 having a declarative config file and an interface
to instruct it with any programming language. 


You did a good job describing your point and I respect the time that went
into it.

So: "tempting, but no."


Cheers,
Erich


-- 
open-pgp key-id: D7551350

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141005/b10c9572/attachment.sig>

From jfstraeten at scarlet.be  Sun Oct  5 21:07:55 2014
From: jfstraeten at scarlet.be (JF Straeten)
Date: Sun, 5 Oct 2014 21:07:55 +0200
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <5431584B.8050603@nassur.net>
References: <20141004211558.GA916@Discworld.fritz.box>
 <5431584B.8050603@nassur.net>
Message-ID: <20141005190755.GA32202@jones.jfs.dt>


Hi All,


On Sun, Oct 05, 2014 at 04:40:11PM +0200, e.waelde wrote:

[...]
> > The only thing I think could be improved in i3 is the config. i3 uses
> > its own configuration file format which is quite restricted. Therefor, I
> > suggest moving to a well-established scripting language that can be
> > embedded into i3's C code - lua comes to mind.
> ...
> 
> I moved from xmonad to i3 *because* I did not grok the "configuration".
> xmonad is written in Haskell, and configuring it means to overload certain
> functions with your own implementation. While this is elegant it certainly
> wasn't my way.
> 
> So I'm all happy with i3 having a declarative config file and an interface
> to instruct it with any programming language. 

I must second firmly on this !

i3 internals (declarative config *and* IPC) are very well thought :-)

Using a scripting language for a WM's config is a design mistake, in
my opinion... 

A+

-- 

JFS.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 190 bytes
Desc: Digital signature
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141005/4422d239/attachment.sig>

From sylvain.benner at gmail.com  Sun Oct  5 21:59:22 2014
From: sylvain.benner at gmail.com (Sylvain Benner)
Date: Sun, 5 Oct 2014 15:59:22 -0400
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <20141005190755.GA32202@jones.jfs.dt>
References: <20141004211558.GA916@Discworld.fritz.box>
 <5431584B.8050603@nassur.net> <20141005190755.GA32202@jones.jfs.dt>
Message-ID: <CAGb_Ffak_ZjozJtCPa3XZH=aXOaVQFUc=F8SEsAuxHCXxDhyLA@mail.gmail.com>

On Sun, Oct 5, 2014 at 3:07 PM, JF Straeten <jfstraeten at scarlet.be> wrote:

> Using a scripting language for a WM's config is a design mistake, in
> my opinion...

I would extend this to other softwares like build systems and so on.
People are just lazy to take the time to design slick DSLs.

So yes, i3's DSL is definitely one of the big advantage of i3.

-syl20bnr-

From public at enkore.de  Sun Oct  5 22:43:51 2014
From: public at enkore.de (Marian Beermann)
Date: Sun, 05 Oct 2014 22:43:51 +0200
Subject: [i3] Suggestion: Configuration with lua
In-Reply-To: <CAGb_Ffak_ZjozJtCPa3XZH=aXOaVQFUc=F8SEsAuxHCXxDhyLA@mail.gmail.com>
References: <20141004211558.GA916@Discworld.fritz.box>
 <5431584B.8050603@nassur.net> <20141005190755.GA32202@jones.jfs.dt>
 <CAGb_Ffak_ZjozJtCPa3XZH=aXOaVQFUc=F8SEsAuxHCXxDhyLA@mail.gmail.com>
Message-ID: <5431AD87.10803@enkore.de>

I wouldn't go so far to say that, especially in the context of build
systems, where a great many DSLs are just plain awful (e.g. cmake,
qmake, ...), while systems build around general-purpose languages exist
that feel better. A lot better. (qbs for example - but that's then just
another DSL built on top of QML, in a way).

On 05.10.2014 21:59, Sylvain Benner wrote:
> On Sun, Oct 5, 2014 at 3:07 PM, JF Straeten <jfstraeten at scarlet.be> wrote:
> 
>> Using a scripting language for a WM's config is a design mistake, in
>> my opinion...
> 
> I would extend this to other softwares like build systems and so on.
> People are just lazy to take the time to design slick DSLs.
> 
> So yes, i3's DSL is definitely one of the big advantage of i3.
> 
> -syl20bnr-
> 


From facetoe at ymail.com  Sat Oct 11 16:09:52 2014
From: facetoe at ymail.com (facetoe)
Date: Sat, 11 Oct 2014 22:09:52 +0800
Subject: [i3] Scroll Events
Message-ID: <54393A30.8050100@ymail.com>

Hello,

Can i3bar output scroll events like it does with click events?

Thanks!

From sardemff7+i3 at sardemff7.net  Sat Oct 11 17:27:19 2014
From: sardemff7+i3 at sardemff7.net (Quentin Glidic)
Date: Sat, 11 Oct 2014 17:27:19 +0200
Subject: [i3] Scroll Events
In-Reply-To: <54393A30.8050100@ymail.com>
References: <54393A30.8050100@ymail.com>
Message-ID: <54394C57.2000703@sardemff7.net>

On 2014-10-11 16:09, facetoe wrote:
> Hello,
>
> Can i3bar output scroll events like it does with click events?
>
> Thanks!

Hi,

It does already, buttons 4 and 5. :-)
j4status is using it, especially the PulseAudio plugin, the MPD plugin 
and the ALSA plugin (actually, any plugin which supports actions).

Cheers,

-- 

Quentin “Sardem FF7” Glidic

From facetoe at ymail.com  Sun Oct 12 02:17:34 2014
From: facetoe at ymail.com (facetoe)
Date: Sun, 12 Oct 2014 08:17:34 +0800
Subject: [i3] Scroll Events
In-Reply-To: <54394C57.2000703@sardemff7.net>
References: <54393A30.8050100@ymail.com> <54394C57.2000703@sardemff7.net>
Message-ID: <5439C89E.4030803@ymail.com>

On 11/10/14 23:27, Quentin Glidic wrote:
> On 2014-10-11 16:09, facetoe wrote:
>> Hello,
>>
>> Can i3bar output scroll events like it does with click events?
>>
>> Thanks!
>
> Hi,
>
> It does already, buttons 4 and 5. :-)
> j4status is using it, especially the PulseAudio plugin, the MPD plugin 
> and the ALSA plugin (actually, any plugin which supports actions).
>
> Cheers,
>

Hmm, the problem must be on my machine then, I'm not receiving these 
events. The click events work fine but when I place my cursor over a 
widget that is listening for scroll events (using my laptop trackpad) it 
always just changes the workspace.

I guess this isn't really an i3wm issue, but does anyone know where I 
could look to begin troubleshooting this issue?

Thanks!

From facetoe at ymail.com  Sun Oct 12 02:37:18 2014
From: facetoe at ymail.com (facetoe)
Date: Sun, 12 Oct 2014 08:37:18 +0800
Subject: [i3] Scroll Events
In-Reply-To: <5439C89E.4030803@ymail.com>
References: <54393A30.8050100@ymail.com> <54394C57.2000703@sardemff7.net>
 <5439C89E.4030803@ymail.com>
Message-ID: <5439CD3E.2050903@ymail.com>

On 12/10/14 08:17, facetoe wrote:
> On 11/10/14 23:27, Quentin Glidic wrote:
>> On 2014-10-11 16:09, facetoe wrote:
>>> Hello,
>>>
>>> Can i3bar output scroll events like it does with click events?
>>>
>>> Thanks!
>>
>> Hi,
>>
>> It does already, buttons 4 and 5. :-)
>> j4status is using it, especially the PulseAudio plugin, the MPD 
>> plugin and the ALSA plugin (actually, any plugin which supports 
>> actions).
>>
>> Cheers,
>>
>
> Hmm, the problem must be on my machine then, I'm not receiving these 
> events. The click events work fine but when I place my cursor over a 
> widget that is listening for scroll events (using my laptop trackpad) 
> it always just changes the workspace.
>
> I guess this isn't really an i3wm issue, but does anyone know where I 
> could look to begin troubleshooting this issue?
>
> Thanks!

I just had a look at the code and it appears that i3bar switches the 
workspace before checking to see if the scroll event was over a status 
block - 
https://github.com/DaveDavenport/i3/blob/master/i3bar/src/xcb.c#L333-354

I'm probably reading this wrong, but could that be the source of the 
problem?






From sardemff7+i3 at sardemff7.net  Sun Oct 12 10:49:37 2014
From: sardemff7+i3 at sardemff7.net (Quentin Glidic)
Date: Sun, 12 Oct 2014 10:49:37 +0200
Subject: [i3] Scroll Events
In-Reply-To: <5439CD3E.2050903@ymail.com>
References: <54393A30.8050100@ymail.com> <54394C57.2000703@sardemff7.net>
 <5439C89E.4030803@ymail.com> <5439CD3E.2050903@ymail.com>
Message-ID: <543A40A1.7040104@sardemff7.net>

On 2014-10-12 02:37, facetoe wrote:
> I just had a look at the code and it appears that i3bar switches the
> workspace before checking to see if the scroll event was over a status
> block -
> https://github.com/DaveDavenport/i3/blob/master/i3bar/src/xcb.c#L333-354
>
> I'm probably reading this wrong, but could that be the source of the
> problem?

You are reading the code right but this was changed some months ago[1].
It is included in the 4.8 release, all you have to do is to update i3.

Cheers,

[1] 
http://code.stapelberg.de/git/i3/commit/?id=eb7537e53d5ebfd6369fa56c0714e927d94bcac0

-- 

Quentin “Sardem FF7” Glidic

From facetoe at ymail.com  Sun Oct 12 10:58:25 2014
From: facetoe at ymail.com (facetoe)
Date: Sun, 12 Oct 2014 16:58:25 +0800
Subject: [i3] Scroll Events
In-Reply-To: <543A40A1.7040104@sardemff7.net>
References: <54393A30.8050100@ymail.com> <54394C57.2000703@sardemff7.net>
 <5439C89E.4030803@ymail.com> <5439CD3E.2050903@ymail.com>
 <543A40A1.7040104@sardemff7.net>
Message-ID: <543A42B1.6090008@ymail.com>

On 12/10/14 16:49, Quentin Glidic wrote:
> On 2014-10-12 02:37, facetoe wrote:
>> I just had a look at the code and it appears that i3bar switches the
>> workspace before checking to see if the scroll event was over a status
>> block -
>> https://github.com/DaveDavenport/i3/blob/master/i3bar/src/xcb.c#L333-354
>>
>> I'm probably reading this wrong, but could that be the source of the
>> problem?
>
> You are reading the code right but this was changed some months ago[1].
> It is included in the 4.8 release, all you have to do is to update i3.
>
> Cheers,
>
> [1] 
> http://code.stapelberg.de/git/i3/commit/?id=eb7537e53d5ebfd6369fa56c0714e927d94bcac0
>
Fantastic! Thanks so much.

From mailinglist at kroeger.dk  Mon Oct 13 23:28:21 2014
From: mailinglist at kroeger.dk (=?UTF-8?Q?Danny=20Jonstrup=20Kr=C3=B8ger?=)
Date: Mon, 13 Oct 2014 23:28:21 +0200
Subject: [i3] Some workspaces not showing when undocked
In-Reply-To: <CANnVG6n+gR=1eUMq683FAUCM_UnfVvF_2qwC+Z=48t97yh7nFw@mail.gmail.com>
References: <1411895558.184677.172571309.555D0E61@webmail.messagingengine.com>
 <CANnVG6n+gR=1eUMq683FAUCM_UnfVvF_2qwC+Z=48t97yh7nFw@mail.gmail.com>
Message-ID: <1413235701.2906445.178545933.0733B5D9@webmail.messagingengine.com>

Sorry for the late follow-up.

Thanks for your suggestions.

I did some further investigation to find the culprit and I jumped the
gun
quite a bit around the randr changes being the issue. 
I disabled most parts of my config and slowly added things until the
issue appeared.
The setting that causes the issue is "focus_follows_mouse no" which is
really odd since I have used that setting in the past without issues.

If I remove "focus_follows_mouse no" from my config everything works
perfectly.

The above has been tested with the laptop not being docked, and the
config part sending a workspace to a give output has been disabled

Best Regards
Danny Jonstrup Krøger

On Sun, Sep 28, 2014, at 17:05, Michael Stapelberg wrote:
> My guess is that something goes wrong when setting your display
> settings on undock.
> 
> I’d start by logging a confirmation line to a file in your
> undock-script so that you know it gets executed.
> 
> Also, I’d check the i3 log, see http://i3wm.org/docs/debugging.html,
> and check whether the randr settings are as you expect them after
> undocking.
> 
> Instead of logging out and in again, try changing your settings using
> xrandr.
> 
> On Sun, Sep 28, 2014 at 11:12 AM, Danny Jonstrup Krøger
> <mailinglist at kroeger.dk> wrote:
> > Hi.
> >
> > I'm using a laptop, which is connected to two other screens when docked. I
> > have assigned the workspaces to the following screens:
> > # eDP1 = laptop
> > # DP2 & DP1 = external screens.
> > workspace 1 output DP2
> > workspace 2 output DP2
> > workspace 3 output DP2
> > workspace 4 output DP1
> > workspace 5 output DP1
> > workspace 6 output DP1
> > workspace 7 output eDP1
> >
> > When undocking I run the following randr command to switch off the other
> > screens:
> > $xrandr --output VIRTUAL1 --off --output eDP1 --mode 1920x1080 --pos 0x0
> > --rotate normal --output DP1 --off --output ↪HDMI2 --off --output HDMI1
> > --off --output DP2 --off
> >
> > However I often experience that I'm unable to go to other workspaces than 1
> > & 7 when undocked. Sometimes 2-6 works, but it seems to be working quite
> > randomly. It doesn't help either if I log out and in again.
> >
> > When searching for people having the same issue it seems that i3 should be
> > handling this scenario without issues, so I'm sure there is something I have
> > overlooked.
> >
> > Any ideas on how to get this working properly?
> >
> > Best Regards
> > Danny Jonstrup Krøger
> Best regards,
> Michael

From fabian.raetz at gmail.com  Tue Oct 14 17:10:25 2014
From: fabian.raetz at gmail.com (Fabian Raetz)
Date: Tue, 14 Oct 2014 17:10:25 +0200
Subject: [i3] i3-msg - move all/some workspaces to another output
Message-ID: <20141014151024.GA2901@gmail.com>

Hi all,

i am looking for a way to move all (or some)
of my workspaces to another output.

Something like in the following shell script  would be nice:

-------------------------
#!/bin/sh

WS="2 3 4 5 6"
OUTPUT=VGA1

for W in $WS; do
	i3-msg move workspace $W to output $OUTPUT
done
-------------------------


Is there an easy solution i have overseen?

Regards,
Fabian


From bigby.james at crepcran.com  Tue Oct 14 17:55:07 2014
From: bigby.james at crepcran.com (Bigby James)
Date: Tue, 14 Oct 2014 10:55:07 -0500
Subject: [i3] i3-msg - move all/some workspaces to another output
In-Reply-To: <20141014151024.GA2901@gmail.com>
References: <20141014151024.GA2901@gmail.com>
Message-ID: <20141014155507.GA2846@workmachine.Home>

On 10/14, Fabian Raetz wrote:
> Hi all,
> 
> i am looking for a way to move all (or some)
> of my workspaces to another output.
> 
> Something like in the following shell script  would be nice:
> 
> -------------------------
> #!/bin/sh
> 
> WS="2 3 4 5 6"
> OUTPUT=VGA1
> 
> for W in $WS; do
> 	i3-msg move workspace $W to output $OUTPUT
> done
> -------------------------
> 
> 
> Is there an easy solution i have overseen?
> 
> Regards,
> Fabian

An active monitor *must* have a workspace on it, and a workspace only exists after
being explicitly created. So you can't move all currently existing workspaces to
another monitor simultaneously. You'd need to first create a new workspace on
the current monitor, then move all the previously created ones to a new monitor.
What you can also do is use xrandr to deactivate the current display, which (if you
only have two monitors in total) will move all worskpaces to the only active
monitor.

It's probably worth explaining exactly why you'd want to do this, though, since
needing to move everything to another monitor all at once really sounds like a
scenario that could be avoided with proper planning.

-- 
"A common mistake that people make when trying to design something completely
foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams


From fabian.raetz at gmail.com  Tue Oct 14 20:34:08 2014
From: fabian.raetz at gmail.com (Fabian Raetz)
Date: Tue, 14 Oct 2014 20:34:08 +0200
Subject: [i3] i3-msg - move all/some workspaces to another output
In-Reply-To: <20141014155507.GA2846@workmachine.Home>
References: <20141014151024.GA2901@gmail.com>
 <20141014155507.GA2846@workmachine.Home>
Message-ID: <20141014183406.GA22094@gmail.com>

On Tue, Oct 14, 2014 at 10:55:07AM -0500, Bigby James wrote:
> On 10/14, Fabian Raetz wrote:
> > Hi all,
> > 
> > i am looking for a way to move all (or some)
> > of my workspaces to another output.
> > 
> > Something like in the following shell script  would be nice:
> > 
> > -------------------------
> > #!/bin/sh
> > 
> > WS="2 3 4 5 6"
> > OUTPUT=VGA1
> > 
> > for W in $WS; do
> > 	i3-msg move workspace $W to output $OUTPUT
> > done
> > -------------------------
> > 
> > 
> > Is there an easy solution i have overseen?
> > 
> > Regards,
> > Fabian
> 
> An active monitor *must* have a workspace on it, and a workspace only exists after
> being explicitly created. So you can't move all currently existing workspaces to
> another monitor simultaneously. You'd need to first create a new workspace on
> the current monitor, then move all the previously created ones to a new monitor.
> What you can also do is use xrandr to deactivate the current display, which (if you
> only have two monitors in total) will move all worskpaces to the only active
> monitor.
> 
> It's probably worth explaining exactly why you'd want to do this, though, since
> needing to move everything to another monitor all at once really sounds like a
> scenario that could be avoided with proper planning.

Sure.
I am using i3wm on my Notebook which has a small screen resolution
(1366x768).  So it happens that i have most workspaces on a second
output (VGA1). On the first output (LVDS1) is most of the time only
workspace 1 and 10 active which shows xconsole/mutt/logs.

Before i switch locations i detach the second output (VGA1) and all workspaces move
to the first (LVDS1).  Then i suspend.


So far, so good.  Now the problem i am trying to solve:

When i resume and plug in a second monitor, i have to manually move all
workspaces back to the second output which is a bit frustrating. 
This happens multiple times a day.

I run a script whenever an output changes via an external tool,
so i thought i could use the above snippet or something else to move all 
existing workspaces except 1 and 10 to the second output (VGA1).

Any suggestions?

Thanks for your time,
Fabian

> 
> -- 
> "A common mistake that people make when trying to design something completely
> foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams
> 

From michael at i3wm.org  Tue Oct 14 20:53:17 2014
From: michael at i3wm.org (Michael Stapelberg)
Date: Tue, 14 Oct 2014 20:53:17 +0200
Subject: [i3] i3-msg - move all/some workspaces to another output
In-Reply-To: <20141014183406.GA22094@gmail.com>
References: <20141014151024.GA2901@gmail.com>
 <20141014155507.GA2846@workmachine.Home>
 <20141014183406.GA22094@gmail.com>
Message-ID: <CANnVG6=uVeBXZOQA3_G7AgiDgLDERHJ3RNrdr-eJ0wCBNO6VGw@mail.gmail.com>

Have you tried assigning the workspaces to VGA1? See
http://i3wm.org/docs/userguide.html#workspace_screen. When the output
is unavailable, workspaces get moved to another output, which in your
case is LVDS1.

On Tue, Oct 14, 2014 at 8:34 PM, Fabian Raetz <fabian.raetz at gmail.com> wrote:
> On Tue, Oct 14, 2014 at 10:55:07AM -0500, Bigby James wrote:
>> On 10/14, Fabian Raetz wrote:
>> > Hi all,
>> >
>> > i am looking for a way to move all (or some)
>> > of my workspaces to another output.
>> >
>> > Something like in the following shell script  would be nice:
>> >
>> > -------------------------
>> > #!/bin/sh
>> >
>> > WS="2 3 4 5 6"
>> > OUTPUT=VGA1
>> >
>> > for W in $WS; do
>> >     i3-msg move workspace $W to output $OUTPUT
>> > done
>> > -------------------------
>> >
>> >
>> > Is there an easy solution i have overseen?
>> >
>> > Regards,
>> > Fabian
>>
>> An active monitor *must* have a workspace on it, and a workspace only exists after
>> being explicitly created. So you can't move all currently existing workspaces to
>> another monitor simultaneously. You'd need to first create a new workspace on
>> the current monitor, then move all the previously created ones to a new monitor.
>> What you can also do is use xrandr to deactivate the current display, which (if you
>> only have two monitors in total) will move all worskpaces to the only active
>> monitor.
>>
>> It's probably worth explaining exactly why you'd want to do this, though, since
>> needing to move everything to another monitor all at once really sounds like a
>> scenario that could be avoided with proper planning.
>
> Sure.
> I am using i3wm on my Notebook which has a small screen resolution
> (1366x768).  So it happens that i have most workspaces on a second
> output (VGA1). On the first output (LVDS1) is most of the time only
> workspace 1 and 10 active which shows xconsole/mutt/logs.
>
> Before i switch locations i detach the second output (VGA1) and all workspaces move
> to the first (LVDS1).  Then i suspend.
>
>
> So far, so good.  Now the problem i am trying to solve:
>
> When i resume and plug in a second monitor, i have to manually move all
> workspaces back to the second output which is a bit frustrating.
> This happens multiple times a day.
>
> I run a script whenever an output changes via an external tool,
> so i thought i could use the above snippet or something else to move all
> existing workspaces except 1 and 10 to the second output (VGA1).
>
> Any suggestions?
>
> Thanks for your time,
> Fabian
>
>>
>> --
>> "A common mistake that people make when trying to design something completely
>> foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams
>>



-- 
Best regards,
Michael

From fabian.raetz at gmail.com  Tue Oct 14 21:11:07 2014
From: fabian.raetz at gmail.com (Fabian Raetz)
Date: Tue, 14 Oct 2014 21:11:07 +0200
Subject: [i3] i3-msg - move all/some workspaces to another output
In-Reply-To: <CANnVG6=uVeBXZOQA3_G7AgiDgLDERHJ3RNrdr-eJ0wCBNO6VGw@mail.gmail.com>
References: <20141014151024.GA2901@gmail.com>
 <20141014155507.GA2846@workmachine.Home>
 <20141014183406.GA22094@gmail.com>
 <CANnVG6=uVeBXZOQA3_G7AgiDgLDERHJ3RNrdr-eJ0wCBNO6VGw@mail.gmail.com>
Message-ID: <20141014191105.GA28875@gmail.com>

On Tue, Oct 14, 2014 at 08:53:17PM +0200, Michael Stapelberg wrote:
> Have you tried assigning the workspaces to VGA1? See
> http://i3wm.org/docs/userguide.html#workspace_screen. When the output
> is unavailable, workspaces get moved to another output, which in your
> case is LVDS1.

No, but i am using it right now and it works pretty well.

Can i assign a workspace to two outputs like below?
Just in case i will use my HDMI port some day :)

workspace 2 output VGA1
workspace 2 output HDMI1

Anyway this solves my direct needs.  i3 rocks!!

Thanks,
Fabian

> 
> On Tue, Oct 14, 2014 at 8:34 PM, Fabian Raetz <fabian.raetz at gmail.com> wrote:
> > On Tue, Oct 14, 2014 at 10:55:07AM -0500, Bigby James wrote:
> >> On 10/14, Fabian Raetz wrote:
> >> > Hi all,
> >> >
> >> > i am looking for a way to move all (or some)
> >> > of my workspaces to another output.
> >> >
> >> > Something like in the following shell script  would be nice:
> >> >
> >> > -------------------------
> >> > #!/bin/sh
> >> >
> >> > WS="2 3 4 5 6"
> >> > OUTPUT=VGA1
> >> >
> >> > for W in $WS; do
> >> >     i3-msg move workspace $W to output $OUTPUT
> >> > done
> >> > -------------------------
> >> >
> >> >
> >> > Is there an easy solution i have overseen?
> >> >
> >> > Regards,
> >> > Fabian
> >>
> >> An active monitor *must* have a workspace on it, and a workspace only exists after
> >> being explicitly created. So you can't move all currently existing workspaces to
> >> another monitor simultaneously. You'd need to first create a new workspace on
> >> the current monitor, then move all the previously created ones to a new monitor.
> >> What you can also do is use xrandr to deactivate the current display, which (if you
> >> only have two monitors in total) will move all worskpaces to the only active
> >> monitor.
> >>
> >> It's probably worth explaining exactly why you'd want to do this, though, since
> >> needing to move everything to another monitor all at once really sounds like a
> >> scenario that could be avoided with proper planning.
> >
> > Sure.
> > I am using i3wm on my Notebook which has a small screen resolution
> > (1366x768).  So it happens that i have most workspaces on a second
> > output (VGA1). On the first output (LVDS1) is most of the time only
> > workspace 1 and 10 active which shows xconsole/mutt/logs.
> >
> > Before i switch locations i detach the second output (VGA1) and all workspaces move
> > to the first (LVDS1).  Then i suspend.
> >
> >
> > So far, so good.  Now the problem i am trying to solve:
> >
> > When i resume and plug in a second monitor, i have to manually move all
> > workspaces back to the second output which is a bit frustrating.
> > This happens multiple times a day.
> >
> > I run a script whenever an output changes via an external tool,
> > so i thought i could use the above snippet or something else to move all
> > existing workspaces except 1 and 10 to the second output (VGA1).
> >
> > Any suggestions?
> >
> > Thanks for your time,
> > Fabian
> >
> >>
> >> --
> >> "A common mistake that people make when trying to design something completely
> >> foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams
> >>
> 
> 
> 
> -- 
> Best regards,
> Michael

From michael at i3wm.org  Tue Oct 14 22:41:52 2014
From: michael at i3wm.org (Michael Stapelberg)
Date: Tue, 14 Oct 2014 22:41:52 +0200
Subject: [i3] i3-msg - move all/some workspaces to another output
In-Reply-To: <20141014191105.GA28875@gmail.com>
References: <20141014151024.GA2901@gmail.com>
 <20141014155507.GA2846@workmachine.Home>
 <20141014183406.GA22094@gmail.com>
 <CANnVG6=uVeBXZOQA3_G7AgiDgLDERHJ3RNrdr-eJ0wCBNO6VGw@mail.gmail.com>
 <20141014191105.GA28875@gmail.com>
Message-ID: <CANnVG6mcaiQWwLSEabDE+uEASYV0bx4+2pmfLzmURhRtJUQDLQ@mail.gmail.com>

No, but there’s a ticket for that: http://bugs.i3wm.org/report/ticket/555

On Tue, Oct 14, 2014 at 9:11 PM, Fabian Raetz <fabian.raetz at gmail.com> wrote:
> On Tue, Oct 14, 2014 at 08:53:17PM +0200, Michael Stapelberg wrote:
>> Have you tried assigning the workspaces to VGA1? See
>> http://i3wm.org/docs/userguide.html#workspace_screen. When the output
>> is unavailable, workspaces get moved to another output, which in your
>> case is LVDS1.
>
> No, but i am using it right now and it works pretty well.
>
> Can i assign a workspace to two outputs like below?
> Just in case i will use my HDMI port some day :)
>
> workspace 2 output VGA1
> workspace 2 output HDMI1
>
> Anyway this solves my direct needs.  i3 rocks!!
>
> Thanks,
> Fabian
>
>>
>> On Tue, Oct 14, 2014 at 8:34 PM, Fabian Raetz <fabian.raetz at gmail.com> wrote:
>> > On Tue, Oct 14, 2014 at 10:55:07AM -0500, Bigby James wrote:
>> >> On 10/14, Fabian Raetz wrote:
>> >> > Hi all,
>> >> >
>> >> > i am looking for a way to move all (or some)
>> >> > of my workspaces to another output.
>> >> >
>> >> > Something like in the following shell script  would be nice:
>> >> >
>> >> > -------------------------
>> >> > #!/bin/sh
>> >> >
>> >> > WS="2 3 4 5 6"
>> >> > OUTPUT=VGA1
>> >> >
>> >> > for W in $WS; do
>> >> >     i3-msg move workspace $W to output $OUTPUT
>> >> > done
>> >> > -------------------------
>> >> >
>> >> >
>> >> > Is there an easy solution i have overseen?
>> >> >
>> >> > Regards,
>> >> > Fabian
>> >>
>> >> An active monitor *must* have a workspace on it, and a workspace only exists after
>> >> being explicitly created. So you can't move all currently existing workspaces to
>> >> another monitor simultaneously. You'd need to first create a new workspace on
>> >> the current monitor, then move all the previously created ones to a new monitor.
>> >> What you can also do is use xrandr to deactivate the current display, which (if you
>> >> only have two monitors in total) will move all worskpaces to the only active
>> >> monitor.
>> >>
>> >> It's probably worth explaining exactly why you'd want to do this, though, since
>> >> needing to move everything to another monitor all at once really sounds like a
>> >> scenario that could be avoided with proper planning.
>> >
>> > Sure.
>> > I am using i3wm on my Notebook which has a small screen resolution
>> > (1366x768).  So it happens that i have most workspaces on a second
>> > output (VGA1). On the first output (LVDS1) is most of the time only
>> > workspace 1 and 10 active which shows xconsole/mutt/logs.
>> >
>> > Before i switch locations i detach the second output (VGA1) and all workspaces move
>> > to the first (LVDS1).  Then i suspend.
>> >
>> >
>> > So far, so good.  Now the problem i am trying to solve:
>> >
>> > When i resume and plug in a second monitor, i have to manually move all
>> > workspaces back to the second output which is a bit frustrating.
>> > This happens multiple times a day.
>> >
>> > I run a script whenever an output changes via an external tool,
>> > so i thought i could use the above snippet or something else to move all
>> > existing workspaces except 1 and 10 to the second output (VGA1).
>> >
>> > Any suggestions?
>> >
>> > Thanks for your time,
>> > Fabian
>> >
>> >>
>> >> --
>> >> "A common mistake that people make when trying to design something completely
>> >> foolproof is to underestimate the ingenuity of complete fools." - Douglas Adams
>> >>
>>
>>
>>
>> --
>> Best regards,
>> Michael



-- 
Best regards,
Michael

From mail at merovius.de  Wed Oct 15 00:47:17 2014
From: mail at merovius.de (Axel Wagner)
Date: Tue, 14 Oct 2014 23:47:17 +0100
Subject: [i3] i3-msg - move all/some workspaces to another output
In-Reply-To: <CANnVG6mcaiQWwLSEabDE+uEASYV0bx4+2pmfLzmURhRtJUQDLQ@mail.gmail.com>
References: <20141014151024.GA2901@gmail.com>
 <20141014155507.GA2846@workmachine.Home> <20141014183406.GA22094@gmail.com>
 <CANnVG6=uVeBXZOQA3_G7AgiDgLDERHJ3RNrdr-eJ0wCBNO6VGw@mail.gmail.com>
 <20141014191105.GA28875@gmail.com>
 <CANnVG6mcaiQWwLSEabDE+uEASYV0bx4+2pmfLzmURhRtJUQDLQ@mail.gmail.com>
Message-ID: <87siiqgtfu.fsf@rincewind.i-did-not-set--mail-host-address--so-tickle-me>

I actually have the *exact* same problem and assigning workspaces to
VGA1 is not a real solution for me, as I regularly use the VGA port for
presentations and such and then I actually *don't* want any workspaces
(apart from the one running the presentation of course) on the beamer.

I currently use something like this, to move all my workspaces to VGA1:

#!/bin/sh
for i in `seq 10`
do
    i3 "workspace $i, move workspace to output VGA1"
done
for i in `seq 10`
do
    i3 workspace $i
done
i3 "workspace 11, move workspace to output LVDS1"

(I am not sure what the second loop was for… it had *some* point…), but
it is pretty racey and very often a workspace ∈ {1,…,0} remains on LVDS1
(most often something in {5,…,8} or so, and always an empty one).

I haven't found a solution to that yet and am not annoyed enough to
invest a lot of time into it, but *if* anyone has a race-free way of
doing that, I would be glad to hear it ;) I guess one way *might* be to
unroll the loop and send all workspace-switcheroo in one ipc-command, I
guess then i3 has no choice but do it sequentally in the right order…

Best,

Axel Wagner

From vivien.didelot at gmail.com  Fri Oct 24 22:52:23 2014
From: vivien.didelot at gmail.com (Vivien Didelot)
Date: Fri, 24 Oct 2014 16:52:23 -0400
Subject: [i3] i3blocks 1.3 is out!
Message-ID: <CAJ2J69hw9sVYdXfoDhTZ3SWmL00Lr45XxHCMD5Y1Jsq06HuOvQ@mail.gmail.com>

I'm glad to announce "SPACESHIP!" [1], the 1.3 release of i3blocks, a
flexible scheduler for i3bar.

This version provides an often-requested feature: asynchronous and blocking
commands.
There's also consequent bug fixes and default script updates too.

If you feel curious, I invite you to take a look at the release note and
archive here:
https://github.com/vivien/i3blocks/releases/tag/1.3

Also, this release marks a step forward to Debian repositories, thanks to
Jason and Michael!

Cheers,
Vivien

[1] https://www.youtube.com/watch?v=1BV9wQXtpH8

--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141024/0bdeb917/attachment.html>

From Dave.Sargrad at saabsensis.com  Tue Oct 28 13:46:50 2014
From: Dave.Sargrad at saabsensis.com (Sargrad, Dave)
Date: Tue, 28 Oct 2014 12:46:50 +0000
Subject: [i3] Struggling to build i3 4.8 on centos 6.5 - but almost there
In-Reply-To: <mailman.3.1414231217.16103.i3-discuss@i3.zekjur.net>
References: <mailman.3.1414231217.16103.i3-discuss@i3.zekjur.net>
Message-ID: <85EA6F68AC24DA48B220EBEA7A8C08B81B52347B@corpmail01.corp.sensis.com>

I am very close to building i3 4.8 on centos 6.5, and will post my procedures once I get them to be clean. I’ve successfully built i3 4.8 in the past on ubuntu 14.04, but am now moving to centos 6.5.



I am seeing the error message included at the bottom of this e-mail. I found the following link that is related:

http://infra.in.zekjur.net/pipermail/i3-discuss/2013-February/001199.html



Within that chain of emails Michael indicates that the following command will fix the problem:
                 git submodule update –init



I am not using git, so this command will not help me.



I started with a bare vanilla installation of centos. Once I downloaded i3 4.8 I modified common.mk to disable pango.



I then downloaded and built the following packages (I’ve indicated the version that I have downloaded and the version range provided in the i3 DEPENDS file):



pango disabled
cairo 1.12.2                 depends 1.12.2 - 1.12.2
pixman 0.22.0                depends not specified (was needed for cairo)
yajl 2.0.4                   depends 2.0.1 - 2.0.4
libxcb 1.7                   depends 1.1.93 - 1.7
xcb-util                     0.3.8 depends 0.3.3 - 0.3.8
xcb-util-cursor              0.1.1 depends 0.0.99 - 0.0.99
libev 4.11                   depends 4.0 - 4.11



I actually tried 0.0.99 for xcb-util-cursor, but ran into another small problem that disappeared with 0.1.1. Anyways I don’t think this is the source of my current issue.



The exact links for the files I downloaded and built are:

http://cairographics.org/releases/cairo-1.12.2.tar.xz

http://cairographics.org/releases/pixman-0.22.0.tar.gz

http://github.com/lloyd/yajl/zipball/2.0.4

http://xcb.freedesktop.org/dist/libxcb-1.7.tar.bz2

http://xcb.freedesktop.org/dist/xcb-util-0.3.8.tar.bz2

http://xcb.freedesktop.org/dist/xcb-util-cursor-0.1.1.tar.bz2

http://dist.schmorp.de/libev/Attic/libev-4.11.tar.gz







I have successfully gotten past most of my compile issues. I am left with the following:



Compile Time Error Follows



[i3] CC src/handlers.c

../i3-4.8/src/handlers.c: In function ‘handle_normal_hints’:

../i3-4.8/src/handlers.c:831: warning: implicit declaration of function ‘xcb_icccm_get_wm_size_hints_from_reply’

../i3-4.8/src/handlers.c:833: warning: implicit declaration of function ‘xcb_icccm_get_wm_normal_hints_reply’

../i3-4.8/src/handlers.c:833: warning: implicit declaration of function ‘xcb_icccm_get_wm_normal_hints_unchecked’

../i3-4.8/src/handlers.c:835: error: ‘XCB_ICCCM_SIZE_HINT_P_MIN_SIZE’ undeclared (first use in this function)

../i3-4.8/src/handlers.c:835: error: (Each undeclared identifier is reported only once

../i3-4.8/src/handlers.c:835: error: for each function it appears in.)

../i3-4.8/src/handlers.c:841: error: ‘XCB_ICCCM_SIZE_HINT_P_RESIZE_INC’ undeclared (first use in this function)

../i3-4.8/src/handlers.c:862: error: ‘XCB_ICCCM_SIZE_HINT_BASE_SIZE’ undeclared (first use in this function)

../i3-4.8/src/handlers.c:881: error: ‘XCB_ICCCM_SIZE_HINT_P_ASPECT’ undeclared (first use in this function)

../i3-4.8/src/handlers.c: In function ‘handle_hints’:

../i3-4.8/src/handlers.c:936: warning: implicit declaration of function ‘xcb_icccm_get_wm_hints’

../i3-4.8/src/handlers.c:936: error: incompatible type for argument 2 of ‘xcb_get_property_reply’

/usr/local/cwp/include/xcb/xproto.h:7306: note: expected ‘xcb_get_property_cookie_t’ but argument is of type ‘int’

make: *** [src/handlers.o] Error 1





Please help me to understand how to fix this.



Thanks in advance.

This message is intended only for the addressee and may contain information that is company confidential or privileged. Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141028/c2d05c22/attachment.html>

From johannes.lange at rwth-aachen.de  Tue Oct 28 14:07:10 2014
From: johannes.lange at rwth-aachen.de (Johannes Lange)
Date: Tue, 28 Oct 2014 14:07:10 +0100
Subject: [i3] Struggling to build i3 4.8 on centos 6.5 - but almost there
In-Reply-To: <85EA6F68AC24DA48B220EBEA7A8C08B81B52347B@corpmail01.corp.sensis.com>
References: <mailman.3.1414231217.16103.i3-discuss@i3.zekjur.net>
 <85EA6F68AC24DA48B220EBEA7A8C08B81B52347B@corpmail01.corp.sensis.com>
Message-ID: <544F94FE.1030905@rwth-aachen.de>

Hi,

I have built i3 4.8 for Scientific Linux 6.5 (RHEL clone, so basically
the same situation) and had some problems, too.

I've also read the link you sent. There is written "xcb-icccm apparently
is split between xcb-util and xcb-util-wm".

If I remember correctly, I also compiled "xcb-util-wm", so you might try
that.

Cheers,
Johannes

PS: I should mention: I finally got it working, so don't give up ;-)

On Tue 28 Oct 2014 13:46:50 CET,
Sargrad, Dave <Dave.Sargrad at saabsensis.com> wrote:
> I am very close to building i3 4.8 on centos 6.5, and will post my procedures once I get them to be clean. I’ve successfully built i3 4.8 in the past on ubuntu 14.04, but am now moving to centos 6.5.
> 
> 
> 
> I am seeing the error message included at the bottom of this e-mail. I found the following link that is related:
> 
> http://infra.in.zekjur.net/pipermail/i3-discuss/2013-February/001199.html
> 
> 
> 
> Within that chain of emails Michael indicates that the following command will fix the problem:
>                  git submodule update –init
> 
> 
> 
> I am not using git, so this command will not help me.
> 
> 
> 
> I started with a bare vanilla installation of centos. Once I downloaded i3 4.8 I modified common.mk to disable pango.
> 
> 
> 
> I then downloaded and built the following packages (I’ve indicated the version that I have downloaded and the version range provided in the i3 DEPENDS file):
> 
> 
> 
> pango disabled
> cairo 1.12.2                 depends 1.12.2 - 1.12.2
> pixman 0.22.0                depends not specified (was needed for cairo)
> yajl 2.0.4                   depends 2.0.1 - 2.0.4
> libxcb 1.7                   depends 1.1.93 - 1.7
> xcb-util                     0.3.8 depends 0.3.3 - 0.3.8
> xcb-util-cursor              0.1.1 depends 0.0.99 - 0.0.99
> libev 4.11                   depends 4.0 - 4.11
> 
> 
> 
> I actually tried 0.0.99 for xcb-util-cursor, but ran into another small problem that disappeared with 0.1.1. Anyways I don’t think this is the source of my current issue.
> 
> 
> 
> The exact links for the files I downloaded and built are:
> 
> http://cairographics.org/releases/cairo-1.12.2.tar.xz
> 
> http://cairographics.org/releases/pixman-0.22.0.tar.gz
> 
> http://github.com/lloyd/yajl/zipball/2.0.4
> 
> http://xcb.freedesktop.org/dist/libxcb-1.7.tar.bz2
> 
> http://xcb.freedesktop.org/dist/xcb-util-0.3.8.tar.bz2
> 
> http://xcb.freedesktop.org/dist/xcb-util-cursor-0.1.1.tar.bz2
> 
> http://dist.schmorp.de/libev/Attic/libev-4.11.tar.gz
> 
> 
> 
> 
> 
> 
> 
> I have successfully gotten past most of my compile issues. I am left with the following:
> 
> 
> 
> Compile Time Error Follows
> 
> 
> 
> [i3] CC src/handlers.c
> 
> ../i3-4.8/src/handlers.c: In function ‘handle_normal_hints’:
> 
> ../i3-4.8/src/handlers.c:831: warning: implicit declaration of function ‘xcb_icccm_get_wm_size_hints_from_reply’
> 
> ../i3-4.8/src/handlers.c:833: warning: implicit declaration of function ‘xcb_icccm_get_wm_normal_hints_reply’
> 
> ../i3-4.8/src/handlers.c:833: warning: implicit declaration of function ‘xcb_icccm_get_wm_normal_hints_unchecked’
> 
> ../i3-4.8/src/handlers.c:835: error: ‘XCB_ICCCM_SIZE_HINT_P_MIN_SIZE’ undeclared (first use in this function)
> 
> ../i3-4.8/src/handlers.c:835: error: (Each undeclared identifier is reported only once
> 
> ../i3-4.8/src/handlers.c:835: error: for each function it appears in.)
> 
> ../i3-4.8/src/handlers.c:841: error: ‘XCB_ICCCM_SIZE_HINT_P_RESIZE_INC’ undeclared (first use in this function)
> 
> ../i3-4.8/src/handlers.c:862: error: ‘XCB_ICCCM_SIZE_HINT_BASE_SIZE’ undeclared (first use in this function)
> 
> ../i3-4.8/src/handlers.c:881: error: ‘XCB_ICCCM_SIZE_HINT_P_ASPECT’ undeclared (first use in this function)
> 
> ../i3-4.8/src/handlers.c: In function ‘handle_hints’:
> 
> ../i3-4.8/src/handlers.c:936: warning: implicit declaration of function ‘xcb_icccm_get_wm_hints’
> 
> ../i3-4.8/src/handlers.c:936: error: incompatible type for argument 2 of ‘xcb_get_property_reply’
> 
> /usr/local/cwp/include/xcb/xproto.h:7306: note: expected ‘xcb_get_property_cookie_t’ but argument is of type ‘int’
> 
> make: *** [src/handlers.o] Error 1
> 
> 
> 
> 
> 
> Please help me to understand how to fix this.
> 
> 
> 
> Thanks in advance.
> 
> This message is intended only for the addressee and may contain information that is company confidential or privileged. Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately.
> 

From jafo at jafo.ca  Tue Oct 28 15:03:58 2014
From: jafo at jafo.ca (Sean Reifschneider)
Date: Tue, 28 Oct 2014 08:03:58 -0600
Subject: [i3] Struggling to build i3 4.8 on centos 6.5 - but almost there
In-Reply-To: <85EA6F68AC24DA48B220EBEA7A8C08B81B52347B@corpmail01.corp.sensis.com>
References: <mailman.3.1414231217.16103.i3-discuss@i3.zekjur.net>
 <85EA6F68AC24DA48B220EBEA7A8C08B81B52347B@corpmail01.corp.sensis.com>
Message-ID: <544FA24E.4040907@jafo.ca>

On 10/28/14 06:46, Sargrad, Dave wrote:
> I am very close to building i3 4.8 on centos 6.5, and will post my procedures once I get them to be clean. I’ve successfully built i3 4.8 in the past on ubuntu 14.04, but am now moving to centos 6.5.

Have you tried getting the Rawhide SRPM and building it?

http://mirrors.tummy.com/pub/fedora.redhat.com/fedora/linux/development/rawhide/source/SRPMS/i/i3-4.8-5.fc22.src.rpm

Then use "rpmbuild --rebuild i3-4.8-5.fc22.src.rpm".

That's what I did to get 4.8 built on my Ubuntu system, but back-porting
the dpkg instead of the SRPM.

Leverage the work other's have already done.

Sean

From Dave.Sargrad at saabsensis.com  Tue Oct 28 15:07:19 2014
From: Dave.Sargrad at saabsensis.com (Sargrad, Dave)
Date: Tue, 28 Oct 2014 14:07:19 +0000
Subject: [i3] Struggling to build i3 4.8 on centos 6.5 - but almost there
In-Reply-To: <mailman.11.1414501648.665.i3-discuss@i3.zekjur.net>
References: <mailman.11.1414501648.665.i3-discuss@i3.zekjur.net>
Message-ID: <85EA6F68AC24DA48B220EBEA7A8C08B81B523508@corpmail01.corp.sensis.com>

Johannes,

Thanks again for helping me past that compile issue.



I am now attempting to link. I got past a problem with a spurious -l by changing how I disabled pango.



Apparently the proper way to disable pango is as follows (common.mk snippet):



#PANGO_CFLAGS := $(call cflags_for_lib, cairo)

#PANGO_CFLAGS += $(call cflags_for_lib, pangocairo)

I3_CPPFLAGS  += -DPANGO_SUPPORT=0

#PANGO_LIBS   := $(call ldflags_for_lib, cairo)

#PANGO_LIBS   += $(call ldflags_for_lib, pangocairo)



The link issue I am seeing is an undefined xcb symbol:


[i3] Link i3
/usr/lib64/libxcb-render.so.0: undefined reference to `xcb_str_sizeof'
collect2: ld returned 1 exit status
make: *** [i3] Error 1



I found the following online:

http://www.murga-linux.com/puppy/viewtopic.php?t=95934&sid=ca175185bed9514c33942f4795f29892



Here it was suggested that –rdynamic be added to the link options. This did not work for me.



Which library should contain this symbol?









-----Original Message-----
From: i3-discuss [mailto:i3-discuss-bounces at i3.zekjur.net] On Behalf Of i3-discuss-request at i3.zekjur.net
Sent: Tuesday, October 28, 2014 9:09 AM
To: i3-discuss at i3.zekjur.net
Subject: i3-discuss Digest, Vol 54, Issue 10



Send i3-discuss mailing list submissions to

      i3-discuss at i3.zekjur.net<mailto:i3-discuss at i3.zekjur.net>



To subscribe or unsubscribe via the World Wide Web, visit

      http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss

or, via email, send a message with subject or body 'help' to

      i3-discuss-request at i3.zekjur.net<mailto:i3-discuss-request at i3.zekjur.net>



You can reach the person managing the list at

      i3-discuss-owner at i3.zekjur.net<mailto:i3-discuss-owner at i3.zekjur.net>



When replying, please edit your Subject line so it is more specific than "Re: Contents of i3-discuss digest..."





Today's Topics:



   1. Struggling to build i3 4.8 on centos 6.5 - but almost there

      (Sargrad, Dave)

   2. Re: Struggling to build i3 4.8 on centos 6.5 - but almost

      there (Johannes Lange)





This message is intended only for the addressee and may contain information that is company confidential or privileged. Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141028/ec4086c5/attachment.html>

From johannes.lange at rwth-aachen.de  Tue Oct 28 15:55:04 2014
From: johannes.lange at rwth-aachen.de (Johannes Lange)
Date: Tue, 28 Oct 2014 15:55:04 +0100
Subject: [i3] Struggling to build i3 4.8 on centos 6.5 - but almost there
In-Reply-To: <85EA6F68AC24DA48B220EBEA7A8C08B81B523508@corpmail01.corp.sensis.com>
References: <mailman.11.1414501648.665.i3-discuss@i3.zekjur.net>
 <85EA6F68AC24DA48B220EBEA7A8C08B81B523508@corpmail01.corp.sensis.com>
Message-ID: <544FAE48.3010709@rwth-aachen.de>

The message says, that libxcb-render misses a link already, right? So
it's not the problem in the i3-compile step, if I understand that correctly.

Did you check the following?
$ ldd /usr/lib64/libxcb-render.so
        linux-vdso.so.1 =>  (0x00007ffff61ff000)
        libxcb.so.1 => /usr/lib64/libxcb.so.1 (0x00007fa7c9398000)
        libXau.so.6 => /usr/lib64/libXau.so.6 (0x00007fa7c9194000)
        libc.so.6 => /lib64/libc.so.6 (0x00007fa7c8e00000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fa7c97d2000)


On 28/10/14 15:07, Sargrad, Dave wrote:
> Johannes,
> 
> Thanks again for helping me past that compile issue.
> 
> 
> 
> I am now attempting to link. I got past a problem with a spurious -l by changing how I disabled pango.
> 
> 
> 
> Apparently the proper way to disable pango is as follows (common.mk snippet):
> 
> 
> 
> #PANGO_CFLAGS := $(call cflags_for_lib, cairo)
> 
> #PANGO_CFLAGS += $(call cflags_for_lib, pangocairo)
> 
> I3_CPPFLAGS  += -DPANGO_SUPPORT=0
> 
> #PANGO_LIBS   := $(call ldflags_for_lib, cairo)
> 
> #PANGO_LIBS   += $(call ldflags_for_lib, pangocairo)
> 
> 
> 
> The link issue I am seeing is an undefined xcb symbol:
> 
> 
> [i3] Link i3
> /usr/lib64/libxcb-render.so.0: undefined reference to `xcb_str_sizeof'
> collect2: ld returned 1 exit status
> make: *** [i3] Error 1
> 
> 
> 
> I found the following online:
> 
> http://www.murga-linux.com/puppy/viewtopic.php?t=95934&sid=ca175185bed9514c33942f4795f29892
> 
> 
> 
> Here it was suggested that –rdynamic be added to the link options. This did not work for me.
> 
> 
> 
> Which library should contain this symbol?
> 
> 
> 
> 
> 
> 
> 
> 
> 
> -----Original Message-----
> From: i3-discuss [mailto:i3-discuss-bounces at i3.zekjur.net] On Behalf Of i3-discuss-request at i3.zekjur.net
> Sent: Tuesday, October 28, 2014 9:09 AM
> To: i3-discuss at i3.zekjur.net
> Subject: i3-discuss Digest, Vol 54, Issue 10
> 
> 
> 
> Send i3-discuss mailing list submissions to
> 
>       i3-discuss at i3.zekjur.net<mailto:i3-discuss at i3.zekjur.net>
> 
> 
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 
>       http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss
> 
> or, via email, send a message with subject or body 'help' to
> 
>       i3-discuss-request at i3.zekjur.net<mailto:i3-discuss-request at i3.zekjur.net>
> 
> 
> 
> You can reach the person managing the list at
> 
>       i3-discuss-owner at i3.zekjur.net<mailto:i3-discuss-owner at i3.zekjur.net>
> 
> 
> 
> When replying, please edit your Subject line so it is more specific than "Re: Contents of i3-discuss digest..."
> 
> 
> 
> 
> 
> Today's Topics:
> 
> 
> 
>    1. Struggling to build i3 4.8 on centos 6.5 - but almost there
> 
>       (Sargrad, Dave)
> 
>    2. Re: Struggling to build i3 4.8 on centos 6.5 - but almost
> 
>       there (Johannes Lange)
> 
> 
> 
> 
> 
> This message is intended only for the addressee and may contain information that is company confidential or privileged. Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately.
> 

From Dave.Sargrad at saabsensis.com  Tue Oct 28 17:00:01 2014
From: Dave.Sargrad at saabsensis.com (Sargrad, Dave)
Date: Tue, 28 Oct 2014 16:00:01 +0000
Subject: [i3] Struggling to build i3 4.8 on centos 6.5 - but almost there
In-Reply-To: <85EA6F68AC24DA48B220EBEA7A8C08B81B523508@corpmail01.corp.sensis.com>
References: <mailman.11.1414501648.665.i3-discuss@i3.zekjur.net>
 <85EA6F68AC24DA48B220EBEA7A8C08B81B523508@corpmail01.corp.sensis.com>
Message-ID: <85EA6F68AC24DA48B220EBEA7A8C08B81B5235C8@corpmail01.corp.sensis.com>

Well,
1]
I do not pretend to understand this, but I “fixed” the link issue. Though my fix leaves me a tiny bit squeamish. I was able to get past the linker error with this modification to common.mk:

LDFLAGS ?= $(as_needed_LDFLAG) -u xcb_str_sizeof

Can someone please help me to understand what –u actually did? Is it a safe modification?

I’ll note that inside /usr/lib64 is an older version of libxcb (1.8). It is there only because I needed to do the following (libX11-devel depends on libxcb):
yum install libX11-devel

My concern is to ensure that the newer versions of the libxcb stuff (that I compiled) overrides the old stuff found in /usr/lib64.

2]
Other changes that I made to common.mk include:
I3_CFLAGS  = -std=c99 -I/usr/local/cwp/include
LIBS = -L$(TOPDIR) -li3 -lm -L/usr/local/cwp/lib

Is there an environment variable that I could have defined which would have prevented the need for these last two lines?

3]
Last question relates to some of the libxcb elements that I did not seem to have to build. These include:
xcb-proto, xcb-util-image, xcb-util-renderutil

The fact that I did not have to build these seems odd. Should I have built them for completeness? I’ll also note two libraries that I had to build, which were not listed in DEPENDS: xcb-util-wm and xcb-util-keysyms.

4]
As mentioned I will fully publish my procedures, once I scrub them. I will stand up a new box and go step by step through my procedures, at that point I will put them online.

I’m about to try to give i3 a run now that it is built… fingers crossed.

From: Sargrad, Dave
Sent: Tuesday, October 28, 2014 10:07 AM
To: i3-discuss at i3.zekjur.net
Subject: RE: Struggling to build i3 4.8 on centos 6.5 - but almost there


Johannes,

Thanks again for helping me past that compile issue.



I am now attempting to link. I got past a problem with a spurious -l by changing how I disabled pango.



Apparently the proper way to disable pango is as follows (common.mk snippet):



#PANGO_CFLAGS := $(call cflags_for_lib, cairo)

#PANGO_CFLAGS += $(call cflags_for_lib, pangocairo)

I3_CPPFLAGS  += -DPANGO_SUPPORT=0

#PANGO_LIBS   := $(call ldflags_for_lib, cairo)

#PANGO_LIBS   += $(call ldflags_for_lib, pangocairo)



The link issue I am seeing is an undefined xcb symbol:


[i3] Link i3
/usr/lib64/libxcb-render.so.0: undefined reference to `xcb_str_sizeof'
collect2: ld returned 1 exit status
make: *** [i3] Error 1



I found the following online:

http://www.murga-linux.com/puppy/viewtopic.php?t=95934&sid=ca175185bed9514c33942f4795f29892



Here it was suggested that –rdynamic be added to the link options. This did not work for me.



Which library should contain this symbol?













This message is intended only for the addressee and may contain information that is company confidential or privileged. Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141028/e9d950d3/attachment-0001.html>

From Dave.Sargrad at saabsensis.com  Tue Oct 28 17:09:00 2014
From: Dave.Sargrad at saabsensis.com (Sargrad, Dave)
Date: Tue, 28 Oct 2014 16:09:00 +0000
Subject: [i3] i3-discuss Digest, Vol 54, Issue 11
In-Reply-To: <mailman.16.1414512112.665.i3-discuss@i3.zekjur.net>
References: <mailman.16.1414512112.665.i3-discuss@i3.zekjur.net>
Message-ID: <85EA6F68AC24DA48B220EBEA7A8C08B81B5235EE@corpmail01.corp.sensis.com>

I will certainly try that as well Sean. Thanks for pointing me to that. 

Now that I'm through the steps, and have documented them carefully, in some ways the source rpm will be a step back. However peeking into it may give me some clues relative to some of the questions I had.

Thanks very much.



-----Original Message-----
From: i3-discuss [mailto:i3-discuss-bounces at i3.zekjur.net] On Behalf Of i3-discuss-request at i3.zekjur.net
Sent: Tuesday, October 28, 2014 12:03 PM
To: i3-discuss at i3.zekjur.net
Subject: i3-discuss Digest, Vol 54, Issue 11

Send i3-discuss mailing list submissions to
	i3-discuss at i3.zekjur.net

To subscribe or unsubscribe via the World Wide Web, visit
	http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss
or, via email, send a message with subject or body 'help' to
	i3-discuss-request at i3.zekjur.net

You can reach the person managing the list at
	i3-discuss-owner at i3.zekjur.net

When replying, please edit your Subject line so it is more specific than "Re: Contents of i3-discuss digest..."


Today's Topics:

   1. Re: Struggling to build i3 4.8 on centos 6.5 - but almost
      there (Sean Reifschneider)
   2. Re: Struggling to build i3 4.8 on centos 6.5 - but almost
      there (Sargrad, Dave)
   3. Re: Struggling to build i3 4.8 on centos 6.5 - but almost
      there (Johannes Lange)
   4. Re: Struggling to build i3 4.8 on centos 6.5 - but almost
      there (Sargrad, Dave)


----------------------------------------------------------------------

Message: 1
Date: Tue, 28 Oct 2014 08:03:58 -0600
From: Sean Reifschneider <jafo at jafo.ca>
To: i3-discuss at i3.zekjur.net
Subject: Re: [i3] Struggling to build i3 4.8 on centos 6.5 - but
	almost there
Message-ID: <544FA24E.4040907 at jafo.ca>
Content-Type: text/plain; charset=utf-8

On 10/28/14 06:46, Sargrad, Dave wrote:
> I am very close to building i3 4.8 on centos 6.5, and will post my procedures once I get them to be clean. I’ve successfully built i3 4.8 in the past on ubuntu 14.04, but am now moving to centos 6.5.

Have you tried getting the Rawhide SRPM and building it?

http://mirrors.tummy.com/pub/fedora.redhat.com/fedora/linux/development/rawhide/source/SRPMS/i/i3-4.8-5.fc22.src.rpm

Then use "rpmbuild --rebuild i3-4.8-5.fc22.src.rpm".

That's what I did to get 4.8 built on my Ubuntu system, but back-porting the dpkg instead of the SRPM.

Leverage the work other's have already done.

Sean


------------------------------

Message: 2
Date: Tue, 28 Oct 2014 14:07:19 +0000
From: "Sargrad, Dave" <Dave.Sargrad at saabsensis.com>
To: "i3-discuss at i3.zekjur.net" <i3-discuss at i3.zekjur.net>
Subject: Re: [i3] Struggling to build i3 4.8 on centos 6.5 - but
	almost there
Message-ID:
	<85EA6F68AC24DA48B220EBEA7A8C08B81B523508 at corpmail01.corp.sensis.com>
Content-Type: text/plain; charset="utf-8"

Johannes,

Thanks again for helping me past that compile issue.



I am now attempting to link. I got past a problem with a spurious -l by changing how I disabled pango.



Apparently the proper way to disable pango is as follows (common.mk snippet):



#PANGO_CFLAGS := $(call cflags_for_lib, cairo)

#PANGO_CFLAGS += $(call cflags_for_lib, pangocairo)

I3_CPPFLAGS  += -DPANGO_SUPPORT=0

#PANGO_LIBS   := $(call ldflags_for_lib, cairo)

#PANGO_LIBS   += $(call ldflags_for_lib, pangocairo)



The link issue I am seeing is an undefined xcb symbol:


[i3] Link i3
/usr/lib64/libxcb-render.so.0: undefined reference to `xcb_str_sizeof'
collect2: ld returned 1 exit status
make: *** [i3] Error 1



I found the following online:

http://www.murga-linux.com/puppy/viewtopic.php?t=95934&sid=ca175185bed9514c33942f4795f29892



Here it was suggested that –rdynamic be added to the link options. This did not work for me.



Which library should contain this symbol?









-----Original Message-----
From: i3-discuss [mailto:i3-discuss-bounces at i3.zekjur.net] On Behalf Of i3-discuss-request at i3.zekjur.net
Sent: Tuesday, October 28, 2014 9:09 AM
To: i3-discuss at i3.zekjur.net
Subject: i3-discuss Digest, Vol 54, Issue 10



Send i3-discuss mailing list submissions to

      i3-discuss at i3.zekjur.net<mailto:i3-discuss at i3.zekjur.net>



To subscribe or unsubscribe via the World Wide Web, visit

      http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss

or, via email, send a message with subject or body 'help' to

      i3-discuss-request at i3.zekjur.net<mailto:i3-discuss-request at i3.zekjur.net>



You can reach the person managing the list at

      i3-discuss-owner at i3.zekjur.net<mailto:i3-discuss-owner at i3.zekjur.net>



When replying, please edit your Subject line so it is more specific than "Re: Contents of i3-discuss digest..."





Today's Topics:



   1. Struggling to build i3 4.8 on centos 6.5 - but almost there

      (Sargrad, Dave)

   2. Re: Struggling to build i3 4.8 on centos 6.5 - but almost

      there (Johannes Lange)





This message is intended only for the addressee and may contain information that is company confidential or privileged. Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141028/ec4086c5/attachment-0001.html>

------------------------------

Message: 3
Date: Tue, 28 Oct 2014 15:55:04 +0100
From: Johannes Lange <johannes.lange at rwth-aachen.de>
To: <i3-discuss at i3.zekjur.net>
Subject: Re: [i3] Struggling to build i3 4.8 on centos 6.5 - but
	almost there
Message-ID: <544FAE48.3010709 at rwth-aachen.de>
Content-Type: text/plain; charset="utf-8"

The message says, that libxcb-render misses a link already, right? So it's not the problem in the i3-compile step, if I understand that correctly.

Did you check the following?
$ ldd /usr/lib64/libxcb-render.so
        linux-vdso.so.1 =>  (0x00007ffff61ff000)
        libxcb.so.1 => /usr/lib64/libxcb.so.1 (0x00007fa7c9398000)
        libXau.so.6 => /usr/lib64/libXau.so.6 (0x00007fa7c9194000)
        libc.so.6 => /lib64/libc.so.6 (0x00007fa7c8e00000)
        /lib64/ld-linux-x86-64.so.2 (0x00007fa7c97d2000)


On 28/10/14 15:07, Sargrad, Dave wrote:
> Johannes,
> 
> Thanks again for helping me past that compile issue.
> 
> 
> 
> I am now attempting to link. I got past a problem with a spurious -l by changing how I disabled pango.
> 
> 
> 
> Apparently the proper way to disable pango is as follows (common.mk snippet):
> 
> 
> 
> #PANGO_CFLAGS := $(call cflags_for_lib, cairo)
> 
> #PANGO_CFLAGS += $(call cflags_for_lib, pangocairo)
> 
> I3_CPPFLAGS  += -DPANGO_SUPPORT=0
> 
> #PANGO_LIBS   := $(call ldflags_for_lib, cairo)
> 
> #PANGO_LIBS   += $(call ldflags_for_lib, pangocairo)
> 
> 
> 
> The link issue I am seeing is an undefined xcb symbol:
> 
> 
> [i3] Link i3
> /usr/lib64/libxcb-render.so.0: undefined reference to `xcb_str_sizeof'
> collect2: ld returned 1 exit status
> make: *** [i3] Error 1
> 
> 
> 
> I found the following online:
> 
> http://www.murga-linux.com/puppy/viewtopic.php?t=95934&sid=ca175185bed
> 9514c33942f4795f29892
> 
> 
> 
> Here it was suggested that –rdynamic be added to the link options. This did not work for me.
> 
> 
> 
> Which library should contain this symbol?
> 
> 
> 
> 
> 
> 
> 
> 
> 
> -----Original Message-----
> From: i3-discuss [mailto:i3-discuss-bounces at i3.zekjur.net] On Behalf 
> Of i3-discuss-request at i3.zekjur.net
> Sent: Tuesday, October 28, 2014 9:09 AM
> To: i3-discuss at i3.zekjur.net
> Subject: i3-discuss Digest, Vol 54, Issue 10
> 
> 
> 
> Send i3-discuss mailing list submissions to
> 
>       i3-discuss at i3.zekjur.net<mailto:i3-discuss at i3.zekjur.net>
> 
> 
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 
>       http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss
> 
> or, via email, send a message with subject or body 'help' to
> 
>       
> i3-discuss-request at i3.zekjur.net<mailto:i3-discuss-request at i3.zekjur.n
> et>
> 
> 
> 
> You can reach the person managing the list at
> 
>       
> i3-discuss-owner at i3.zekjur.net<mailto:i3-discuss-owner at i3.zekjur.net>
> 
> 
> 
> When replying, please edit your Subject line so it is more specific than "Re: Contents of i3-discuss digest..."
> 
> 
> 
> 
> 
> Today's Topics:
> 
> 
> 
>    1. Struggling to build i3 4.8 on centos 6.5 - but almost there
> 
>       (Sargrad, Dave)
> 
>    2. Re: Struggling to build i3 4.8 on centos 6.5 - but almost
> 
>       there (Johannes Lange)
> 
> 
> 
> 
> 
> This message is intended only for the addressee and may contain information that is company confidential or privileged. Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately.
> 


------------------------------

Message: 4
Date: Tue, 28 Oct 2014 16:00:01 +0000
From: "Sargrad, Dave" <Dave.Sargrad at saabsensis.com>
To: "i3-discuss at i3.zekjur.net" <i3-discuss at i3.zekjur.net>
Subject: Re: [i3] Struggling to build i3 4.8 on centos 6.5 - but
	almost there
Message-ID:
	<85EA6F68AC24DA48B220EBEA7A8C08B81B5235C8 at corpmail01.corp.sensis.com>
Content-Type: text/plain; charset="utf-8"

Well,
1]
I do not pretend to understand this, but I “fixed” the link issue. Though my fix leaves me a tiny bit squeamish. I was able to get past the linker error with this modification to common.mk:

LDFLAGS ?= $(as_needed_LDFLAG) -u xcb_str_sizeof

Can someone please help me to understand what –u actually did? Is it a safe modification?

I’ll note that inside /usr/lib64 is an older version of libxcb (1.8). It is there only because I needed to do the following (libX11-devel depends on libxcb):
yum install libX11-devel

My concern is to ensure that the newer versions of the libxcb stuff (that I compiled) overrides the old stuff found in /usr/lib64.

2]
Other changes that I made to common.mk include:
I3_CFLAGS  = -std=c99 -I/usr/local/cwp/include LIBS = -L$(TOPDIR) -li3 -lm -L/usr/local/cwp/lib

Is there an environment variable that I could have defined which would have prevented the need for these last two lines?

3]
Last question relates to some of the libxcb elements that I did not seem to have to build. These include:
xcb-proto, xcb-util-image, xcb-util-renderutil

The fact that I did not have to build these seems odd. Should I have built them for completeness? I’ll also note two libraries that I had to build, which were not listed in DEPENDS: xcb-util-wm and xcb-util-keysyms.

4]
As mentioned I will fully publish my procedures, once I scrub them. I will stand up a new box and go step by step through my procedures, at that point I will put them online.

I’m about to try to give i3 a run now that it is built… fingers crossed.

From: Sargrad, Dave
Sent: Tuesday, October 28, 2014 10:07 AM
To: i3-discuss at i3.zekjur.net
Subject: RE: Struggling to build i3 4.8 on centos 6.5 - but almost there


Johannes,

Thanks again for helping me past that compile issue.



I am now attempting to link. I got past a problem with a spurious -l by changing how I disabled pango.



Apparently the proper way to disable pango is as follows (common.mk snippet):



#PANGO_CFLAGS := $(call cflags_for_lib, cairo)

#PANGO_CFLAGS += $(call cflags_for_lib, pangocairo)

I3_CPPFLAGS  += -DPANGO_SUPPORT=0

#PANGO_LIBS   := $(call ldflags_for_lib, cairo)

#PANGO_LIBS   += $(call ldflags_for_lib, pangocairo)



The link issue I am seeing is an undefined xcb symbol:


[i3] Link i3
/usr/lib64/libxcb-render.so.0: undefined reference to `xcb_str_sizeof'
collect2: ld returned 1 exit status
make: *** [i3] Error 1



I found the following online:

http://www.murga-linux.com/puppy/viewtopic.php?t=95934&sid=ca175185bed9514c33942f4795f29892



Here it was suggested that –rdynamic be added to the link options. This did not work for me.



Which library should contain this symbol?













This message is intended only for the addressee and may contain information that is company confidential or privileged. Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20141028/e9d950d3/attachment.html>

------------------------------

Subject: Digest Footer

_______________________________________________
i3-discuss mailing list
i3-discuss at i3.zekjur.net
http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss


------------------------------

End of i3-discuss Digest, Vol 54, Issue 11
******************************************
-
This message is intended only for the addressee and may contain information that is company confidential or privileged.  Any technical data in this message may be exported only in accordance with the U.S. International Traffic in Arms Regulations (22 CFR Parts 120-130) or the Export Administration Regulations (15 CFR Parts 730-774). Unauthorized use is strictly prohibited and may be unlawful. If you are not the intended recipient, or the person responsible for delivering to the intended recipient, you should not read, copy, disclose or otherwise use this message. If you have received this email in error, please delete it, and advise the sender immediately. 
-          

