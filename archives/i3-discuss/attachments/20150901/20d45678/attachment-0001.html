<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&nbsp;dir=&quot;ltr&quot;&gt;For_window&nbsp;will&nbsp;only&nbsp;be&nbsp;run&nbsp;when&nbsp;the&nbsp;window&nbsp;is&nbsp;opened,&nbsp;not&nbsp;everytime&nbsp;it&nbsp;is&nbsp;focused.&nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;What&nbsp;you&nbsp;need&nbsp;to&nbsp;do&nbsp;is&nbsp;hook&nbsp;into&nbsp;the&nbsp;focus&nbsp;event&nbsp;on&nbsp;the&nbsp;IPC,&nbsp;match&nbsp;the&nbsp;window&nbsp;there&nbsp;and&nbsp;execute&nbsp;the&nbsp;command.&nbsp;&lt;br&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;Regards&lt;br&gt;<br>
Ingo&nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;&lt;!--&nbsp;tmjah_g_1299s&nbsp;--&gt;Sent&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://www.typeapp.com/r&quot;&gt;TypeMail&lt;!--&nbsp;tmjah_g_1299e&nbsp;--&gt;&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&nbsp;&gt;On&nbsp;Sep&nbsp;1,&nbsp;2015,&nbsp;at&nbsp;17:07,&nbsp;Nokan&nbsp;Emiro&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:uzleepito@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;uzleepito@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;Hi&nbsp;i3wm&nbsp;gurus,&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;use&nbsp;i3&nbsp;with&nbsp;kbdd&nbsp;in&nbsp;order&nbsp;to&nbsp;have&nbsp;different&nbsp;keyboard&nbsp;layouts&nbsp;in&nbsp;different&nbsp;windows:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;exec_always&nbsp;--no-startup-id&nbsp;kbdd&lt;br&gt;exec_always&nbsp;setxkbmap&nbsp;-layout&nbsp;de,us&nbsp;-option&nbsp;grp:shift_caps_toggle&lt;/div&gt;&lt;br&gt;&lt;br&gt;I&nbsp;figured&nbsp;out&nbsp;that&nbsp;the&nbsp;following&nbsp;command&nbsp;changes&nbsp;the&nbsp;current&nbsp;layout&nbsp;into&nbsp;the&nbsp;US&nbsp;version:&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;$&nbsp;&nbsp;dbus-send&nbsp;--dest=ru.gentoo.KbddService&nbsp;/ru/gentoo/KbddService&nbsp;ru.gentoo.kbdd.set_layout&nbsp;uint32:1&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;...and&nbsp;replacing&nbsp;the&nbsp;uint32:1&nbsp;with&nbsp;uint32:0&nbsp;switches&nbsp;to&nbsp;the&nbsp;DE&nbsp;layout.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now,&nbsp;what&nbsp;I&nbsp;couldn't&nbsp;figure&nbsp;out&nbsp;is&nbsp;that&nbsp;how&nbsp;can&nbsp;I&nbsp;set&nbsp;up&nbsp;a&nbsp;default&nbsp;layout&nbsp;for&nbsp;certain&nbsp;types&lt;br&gt;&lt;/div&gt;&lt;div&gt;of&nbsp;windows.&nbsp;&nbsp;New&nbsp;windows&nbsp;start&nbsp;with&nbsp;the&nbsp;DE&nbsp;version&nbsp;(I&nbsp;guess&nbsp;because&nbsp;that&nbsp;one&nbsp;comes&lt;br&gt;first&nbsp;in&nbsp;the&nbsp;list&nbsp;with&nbsp;the&nbsp;'setxkbmap&nbsp;-layout&nbsp;de,us'&nbsp;command).&nbsp;&nbsp;So&nbsp;far,&nbsp;so&nbsp;go.&nbsp;&nbsp;But&nbsp;on&lt;br&gt;terminals&nbsp;I&nbsp;want&nbsp;t<br>
&nbsp;o&nbsp;use<br>
the&nbsp;US&nbsp;layout.&nbsp;&nbsp;I&nbsp;tried&nbsp;something&nbsp;like&nbsp;this&nbsp;in&nbsp;the&nbsp;i3wm&nbsp;config:&lt;br&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;for_window&nbsp;[window_role=&quot;terminal&quot;]&nbsp;exec&nbsp;dbus-send&nbsp;--dest=ru.gentoo.KbddService&nbsp;/ru/gentoo/KbddService&nbsp;ru.gentoo.kbdd.set_layout&nbsp;uint32:1&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Unfortunately&nbsp;this&nbsp;doesn't&nbsp;work.&nbsp;&nbsp;Can&nbsp;you&nbsp;please&nbsp;tell&nbsp;me&nbsp;how&nbsp;can&nbsp;I&nbsp;do&nbsp;this&nbsp;kind&nbsp;of&lt;br&gt;setup&nbsp;from&nbsp;the&nbsp;i3&nbsp;config?&nbsp;&nbsp;(Maybe&nbsp;I&nbsp;could&nbsp;run&nbsp;the&nbsp;dbus-send&nbsp;command&nbsp;from&nbsp;the&lt;br&gt;bash_profile&nbsp;or&nbsp;something&nbsp;like&nbsp;that,&nbsp;but&nbsp;I&nbsp;hope&nbsp;this&nbsp;can&nbsp;be&nbsp;done&nbsp;with&nbsp;for_window&lt;br&gt;in&nbsp;the&nbsp;i3&nbsp;config&nbsp;somehow.)&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;br&gt;&lt;/div&gt;&lt;div&gt;Uz.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
