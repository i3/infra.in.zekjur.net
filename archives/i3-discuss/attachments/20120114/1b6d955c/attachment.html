<tt>
This&nbsp;patch&nbsp;is&nbsp;in&nbsp;a&nbsp;very&nbsp;early&nbsp;stage.&nbsp;It&nbsp;may&nbsp;break&nbsp;something,&nbsp;or&nbsp;I&nbsp;may&nbsp;have&nbsp;done&nbsp;this&nbsp;in&nbsp;a&nbsp;way&nbsp;differ&nbsp;from&nbsp;what&nbsp;you&nbsp;would&nbsp;expect.&nbsp;So&nbsp;please&nbsp;review&nbsp;and&nbsp;give&nbsp;me&nbsp;some&nbsp;response.<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;patch&nbsp;is&nbsp;largely&nbsp;copied&nbsp;from&nbsp;the&nbsp;awesome&nbsp;window&nbsp;manager,&nbsp;which&nbsp;acquire&nbsp;a&nbsp;argb&nbsp;visual&nbsp;at&nbsp;startup,&nbsp;and&nbsp;use&nbsp;this&nbsp;visual&nbsp;for&nbsp;every&nbsp;xcb_create_window().&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;---&lt;/div&gt;<br>
<br>
&lt;div&gt; include/i3.h&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; 3&nbsp;+++&lt;/div&gt;&lt;div&gt; src/main.c&nbsp; &nbsp; &nbsp; &nbsp;|&nbsp; &nbsp;45&nbsp;+++++++++++++++++++++++++++++++++++++++++++++&lt;/div&gt;&lt;div&gt; src/sighandler.c&nbsp;|&nbsp; &nbsp; 2&nbsp;+-&lt;/div&gt;&lt;div&gt; src/x.c&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp;17&nbsp;+++++++++++++----&lt;/div&gt;&lt;div&gt; src/xcb.c&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; 6&nbsp;++++--&lt;/div&gt;<br>
<br>
&lt;div&gt; 5&nbsp;files&nbsp;changed,&nbsp;66&nbsp;insertions(+),&nbsp;7&nbsp;deletions(-)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;diff&nbsp;--git&nbsp;a/include/i3.h&nbsp;b/include/i3.h&lt;/div&gt;&lt;div&gt;index&nbsp;75b7a9b..5860d10&nbsp;100644&lt;/div&gt;&lt;div&gt;---&nbsp;a/include/i3.h&lt;/div&gt;&lt;div&gt;+++&nbsp;b/include/i3.h&lt;/div&gt;<br>
<br>
&lt;div&gt;@@&nbsp;-46,6&nbsp;+46,9&nbsp;@@&nbsp;extern&nbsp;TAILQ_HEAD(ws_assignments_head,&nbsp;Workspace_Assignment)&nbsp;ws_assignments;&lt;/div&gt;&lt;div&gt; extern&nbsp;TAILQ_HEAD(assignments_head,&nbsp;Assignment)&nbsp;assignments;&lt;/div&gt;&lt;div&gt; extern&nbsp;SLIST_HEAD(stack_wins_head,&nbsp;Stack_Window)&nbsp;stack_wins;&lt;/div&gt;<br>
<br>
&lt;div&gt; extern&nbsp;xcb_screen_t&nbsp;*root_screen;&lt;/div&gt;&lt;div&gt;+extern&nbsp;xcb_colormap_t&nbsp;default_colormap;&lt;/div&gt;&lt;div&gt;+extern&nbsp;xcb_visualtype_t&nbsp;*default_visual;&lt;/div&gt;&lt;div&gt;+extern&nbsp;uint8_t&nbsp;default_depth;&lt;/div&gt;&lt;div&gt; extern&nbsp;uint8_t&nbsp;root_depth;&lt;/div&gt;<br>
<br>
&lt;div&gt; extern&nbsp;bool&nbsp;xcursor_supported,&nbsp;xkb_supported;&lt;/div&gt;&lt;div&gt; extern&nbsp;xcb_window_t&nbsp;root;&lt;/div&gt;&lt;div&gt;diff&nbsp;--git&nbsp;a/src/main.c&nbsp;b/src/main.c&lt;/div&gt;&lt;div&gt;index&nbsp;062a486..c218aaf&nbsp;100644&lt;/div&gt;&lt;div&gt;---&nbsp;a/src/main.c&lt;/div&gt;&lt;div&gt;+++&nbsp;b/src/main.c&lt;/div&gt;<br>
<br>
&lt;div&gt;@@&nbsp;-45,6&nbsp;+45,9&nbsp;@@&nbsp;xcb_timestamp_t&nbsp;last_timestamp&nbsp;=&nbsp;XCB_CURRENT_TIME;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; xcb_screen_t&nbsp;*root_screen;&lt;/div&gt;&lt;div&gt; xcb_window_t&nbsp;root;&lt;/div&gt;&lt;div&gt;+xcb_visualtype_t&nbsp;*default_visual&nbsp;=&nbsp;NULL;&lt;/div&gt;&lt;div&gt;+xcb_colormap_t&nbsp;default_colormap&nbsp;=&nbsp;0;&lt;/div&gt;<br>
<br>
&lt;div&gt;+uint8_t&nbsp;default_depth;&lt;/div&gt;&lt;div&gt; uint8_t&nbsp;root_depth;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; struct&nbsp;ev_loop&nbsp;*main_loop;&lt;/div&gt;&lt;div&gt;@@&nbsp;-207,6&nbsp;+210,35&nbsp;@@&nbsp;static&nbsp;void&nbsp;i3_exit()&nbsp;{&lt;/div&gt;&lt;div&gt; #endif&lt;/div&gt;&lt;div&gt; }&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;+static&nbsp;xcb_visualtype_t&nbsp;*&lt;/div&gt;<br>
<br>
&lt;div&gt;+a_argb_visual(xcb_screen_t&nbsp;*s)&lt;/div&gt;&lt;div&gt;+{&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; xcb_depth_iterator_t&nbsp;depth_iter&nbsp;=&nbsp;xcb_screen_allowed_depths_iterator(s);&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; if(depth_iter.data)&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; for(;&nbsp;depth_iter.rem;&nbsp;xcb_depth_next&nbsp;(&amp;depth_iter))&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(depth_iter.data-&gt;depth&nbsp;==&nbsp;32)&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(xcb_visualtype_iterator_t&nbsp;visual_iter&nbsp;=&nbsp;xcb_depth_visuals_iterator(depth_iter.data);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; visual_iter.rem;&nbsp;xcb_visualtype_next&nbsp;(&amp;visual_iter))&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return&nbsp;visual_iter.data;&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; return&nbsp;NULL;&lt;/div&gt;&lt;div&gt;+}&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+static&nbsp;uint8_t&lt;/div&gt;&lt;div&gt;+a_visual_depth(xcb_screen_t&nbsp;*s,&nbsp;xcb_visualid_t&nbsp;vis)&lt;/div&gt;&lt;div&gt;+{&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; xcb_depth_iterator_t&nbsp;depth_iter&nbsp;=&nbsp;xcb_screen_allowed_depths_iterator(s);&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; if(depth_iter.data)&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; for(;&nbsp;depth_iter.rem;&nbsp;xcb_depth_next&nbsp;(&amp;depth_iter))&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(xcb_visualtype_iterator_t&nbsp;visual_iter&nbsp;=&nbsp;xcb_depth_visuals_iterator(depth_iter.data);&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; visual_iter.rem;&nbsp;xcb_visualtype_next&nbsp;(&amp;visual_iter))&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(vis&nbsp;==&nbsp;visual_iter.data-&gt;visual_id)&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return&nbsp;depth_iter.data-&gt;depth;&lt;/div&gt;&lt;div&gt;<br>
<br>
+&nbsp; &nbsp; return&nbsp;24;&lt;/div&gt;&lt;div&gt;+}&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt; int&nbsp;main(int&nbsp;argc,&nbsp;char&nbsp;*argv[])&nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; char&nbsp;*override_configpath&nbsp;=&nbsp;NULL;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; bool&nbsp;autostart&nbsp;=&nbsp;true;&lt;/div&gt;&lt;div&gt;@@&nbsp;-475,6&nbsp;+507,19&nbsp;@@&nbsp;int&nbsp;main(int&nbsp;argc,&nbsp;char&nbsp;*argv[])&nbsp;{&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; }&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; DLOG(&quot;root&nbsp;geometry&nbsp;reply:&nbsp;(%d,&nbsp;%d)&nbsp;%d&nbsp;x&nbsp;%d\n&quot;,&nbsp;greply-&gt;x,&nbsp;greply-&gt;y,&nbsp;greply-&gt;width,&nbsp;greply-&gt;height);&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; /*&nbsp;Acquire&nbsp;a&nbsp;argb&nbsp;visual&nbsp;*/&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; default_visual&nbsp;=&nbsp;a_argb_visual(root_screen);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; default_depth&nbsp;=&nbsp;a_visual_depth(root_screen,&nbsp;default_visual-&gt;visual_id);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; /*&nbsp;Acquire&nbsp;corresponding&nbsp;colormap&nbsp;*/&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; default_colormap&nbsp;=&nbsp;root_screen-&gt;default_colormap;&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; if(default_depth&nbsp;!=&nbsp;root_depth){&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; default_colormap&nbsp;=&nbsp;xcb_generate_id(conn);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; xcb_create_colormap(conn,&nbsp;XCB_COLORMAP_ALLOC_NONE,&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default_colormap,&nbsp;root,&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default_visual-&gt;visual_id);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; }&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; /*&nbsp;Place&nbsp;requests&nbsp;for&nbsp;the&nbsp;atoms&nbsp;we&nbsp;need&nbsp;as&nbsp;soon&nbsp;as&nbsp;possible&nbsp;*/&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; #define&nbsp;xmacro(atom)&nbsp;\&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; xcb_intern_atom_cookie_t&nbsp;atom&nbsp;##&nbsp;_cookie&nbsp;=&nbsp;xcb_intern_atom(conn,&nbsp;0,&nbsp;strlen(#atom),&nbsp;#atom);&lt;/div&gt;<br>
<br>
&lt;div&gt;diff&nbsp;--git&nbsp;a/src/sighandler.c&nbsp;b/src/sighandler.c&lt;/div&gt;&lt;div&gt;index&nbsp;a029422..ac42af7&nbsp;100644&lt;/div&gt;&lt;div&gt;---&nbsp;a/src/sighandler.c&lt;/div&gt;&lt;div&gt;+++&nbsp;b/src/sighandler.c&lt;/div&gt;&lt;div&gt;@@&nbsp;-166,7&nbsp;+166,7&nbsp;@@&nbsp;void&nbsp;handle_signal(int&nbsp;sig,&nbsp;siginfo_t&nbsp;*info,&nbsp;void&nbsp;*data)&nbsp;{&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; /*&nbsp;Create&nbsp;pixmap&nbsp;*/&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; pixmap&nbsp;=&nbsp;xcb_generate_id(conn);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; pixmap_gc&nbsp;=&nbsp;xcb_generate_id(conn);&lt;/div&gt;&lt;div&gt;-&nbsp; &nbsp; &nbsp; &nbsp; xcb_create_pixmap(conn,&nbsp;root_depth,&nbsp;pixmap,&nbsp;win,&nbsp;width,&nbsp;height);&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; xcb_create_pixmap(conn,&nbsp;default_depth,&nbsp;pixmap,&nbsp;win,&nbsp;width,&nbsp;height);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; xcb_create_gc(conn,&nbsp;pixmap_gc,&nbsp;pixmap,&nbsp;0,&nbsp;0);&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; /*&nbsp;Create&nbsp;graphics&nbsp;context&nbsp;*/&lt;/div&gt;&lt;div&gt;diff&nbsp;--git&nbsp;a/src/x.c&nbsp;b/src/x.c&lt;/div&gt;<br>
<br>
&lt;div&gt;index&nbsp;e8bfaeb..281e961&nbsp;100644&lt;/div&gt;&lt;div&gt;---&nbsp;a/src/x.c&lt;/div&gt;&lt;div&gt;+++&nbsp;b/src/x.c&lt;/div&gt;&lt;div&gt;@@&nbsp;-90,15&nbsp;+90,24&nbsp;@@&nbsp;void&nbsp;x_con_init(Con&nbsp;*con)&nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;*&nbsp;get&nbsp;the&nbsp;initial&nbsp;geometry&nbsp;right&nbsp;*/&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; uint32_t&nbsp;mask&nbsp;=&nbsp;0;&lt;/div&gt;<br>
<br>
&lt;div&gt;-&nbsp; &nbsp; uint32_t&nbsp;values[2];&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; uint32_t&nbsp;values[5];&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; mask&nbsp;|=&nbsp;XCB_CW_BACK_PIXEL;&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; values[0]&nbsp;=&nbsp;root_screen-&gt;black_pixel;&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; mask&nbsp;|=&nbsp;XCB_CW_BORDER_PIXEL;&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; values[1]&nbsp;=&nbsp;root_screen-&gt;black_pixel;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; /*&nbsp;our&nbsp;own&nbsp;frames&nbsp;should&nbsp;not&nbsp;be&nbsp;managed&nbsp;*/&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; mask&nbsp;|=&nbsp;XCB_CW_OVERRIDE_REDIRECT;&lt;/div&gt;&lt;div&gt;-&nbsp; &nbsp; values[0]&nbsp;=&nbsp;1;&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; values[2]&nbsp;=&nbsp;1;&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; /*&nbsp;see&nbsp;include/xcb.h&nbsp;for&nbsp;the&nbsp;FRAME_EVENT_MASK&nbsp;*/&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; mask&nbsp;|=&nbsp;XCB_CW_EVENT_MASK;&lt;/div&gt;&lt;div&gt;-&nbsp; &nbsp; values[1]&nbsp;=&nbsp;FRAME_EVENT_MASK&nbsp;&amp;&nbsp;~XCB_EVENT_MASK_ENTER_WINDOW;&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; values[3]&nbsp;=&nbsp;FRAME_EVENT_MASK&nbsp;&amp;&nbsp;~XCB_EVENT_MASK_ENTER_WINDOW;&lt;/div&gt;<br>
<br>
&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; mask&nbsp;|=&nbsp;XCB_CW_COLORMAP;&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; values[4]&nbsp;=&nbsp;default_colormap;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; Rect&nbsp;dims&nbsp;=&nbsp;{&nbsp;-15,&nbsp;-15,&nbsp;10,&nbsp;10&nbsp;};&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; con-&gt;frame&nbsp;=&nbsp;create_window(conn,&nbsp;dims,&nbsp;XCB_WINDOW_CLASS_INPUT_OUTPUT,&nbsp;XCURSOR_CURSOR_POINTER,&nbsp;false,&nbsp;mask,&nbsp;values);&lt;/div&gt;<br>
<br>
&lt;div&gt;@@&nbsp;-586,7&nbsp;+595,7&nbsp;@@&nbsp;void&nbsp;x_push_node(Con&nbsp;*con)&nbsp;{&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xcb_free_pixmap(conn,&nbsp;con-&gt;pixmap);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xcb_free_gc(conn,&nbsp;con-&gt;pm_gc);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&lt;/div&gt;&lt;div&gt;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xcb_create_pixmap(conn,&nbsp;root_depth,&nbsp;con-&gt;pixmap,&nbsp;con-&gt;frame,&nbsp;rect.width,&nbsp;rect.height);&lt;/div&gt;<br>
<br>
&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xcb_create_pixmap(conn,&nbsp;default_depth,&nbsp;con-&gt;pixmap,&nbsp;con-&gt;frame,&nbsp;rect.width,&nbsp;rect.height);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*&nbsp;For&nbsp;the&nbsp;graphics&nbsp;context,&nbsp;we&nbsp;disable&nbsp;GraphicsExposure&nbsp;events.&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*&nbsp;Those&nbsp;will&nbsp;be&nbsp;sent&nbsp;when&nbsp;a&nbsp;CopyArea&nbsp;request&nbsp;cannot&nbsp;be&nbsp;fulfilled&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*&nbsp;properly&nbsp;due&nbsp;to&nbsp;parts&nbsp;of&nbsp;the&nbsp;source&nbsp;being&nbsp;unmapped&nbsp;or&nbsp;otherwise&lt;/div&gt;&lt;div&gt;diff&nbsp;--git&nbsp;a/src/xcb.c&nbsp;b/src/xcb.c&lt;/div&gt;&lt;div&gt;index&nbsp;aa761ca..eb7c61e&nbsp;100644&lt;/div&gt;&lt;div&gt;---&nbsp;a/src/xcb.c&lt;/div&gt;&lt;div&gt;+++&nbsp;b/src/xcb.c&lt;/div&gt;<br>
<br>
&lt;div&gt;@@&nbsp;-21,7&nbsp;+21,8&nbsp;@@&nbsp;xcb_window_t&nbsp;create_window(xcb_connection_t&nbsp;*conn,&nbsp;Rect&nbsp;dims,&nbsp;uint16_t&nbsp;window_cl&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; xcb_window_t&nbsp;result&nbsp;=&nbsp;xcb_generate_id(conn);&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; /*&nbsp;If&nbsp;the&nbsp;window&nbsp;class&nbsp;is&nbsp;XCB_WINDOW_CLASS_INPUT_ONLY,&nbsp;depth&nbsp;has&nbsp;to&nbsp;be&nbsp;0&nbsp;*/&lt;/div&gt;<br>
<br>
&lt;div&gt;-&nbsp; &nbsp; uint16_t&nbsp;depth&nbsp;=&nbsp;(window_class&nbsp;==&nbsp;XCB_WINDOW_CLASS_INPUT_ONLY&nbsp;?&nbsp;0&nbsp;:&nbsp;XCB_COPY_FROM_PARENT);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; uint16_t&nbsp;depth&nbsp;=&nbsp;(window_class&nbsp;==&nbsp;XCB_WINDOW_CLASS_INPUT_ONLY&nbsp;?&nbsp;0&nbsp;:&nbsp;default_depth);&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; xcb_visualid_t&nbsp;visual_id=&nbsp;(window_class&nbsp;==&nbsp;XCB_WINDOW_CLASS_INPUT_ONLY&nbsp;?&nbsp;XCB_WINDOW_CLASS_COPY_FROM_PARENT&nbsp;:&nbsp;default_visual-&gt;visual_id);&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; xcb_create_window(conn,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; depth,&lt;/div&gt;&lt;div&gt;@@&nbsp;-30,7&nbsp;+31,8&nbsp;@@&nbsp;xcb_window_t&nbsp;create_window(xcb_connection_t&nbsp;*conn,&nbsp;Rect&nbsp;dims,&nbsp;uint16_t&nbsp;window_cl&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dims.x,&nbsp;dims.y,&nbsp;dims.width,&nbsp;dims.height,&nbsp;/*&nbsp;dimensions&nbsp;*/&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0,&nbsp;/*&nbsp;border&nbsp;=&nbsp;0,&nbsp;we&nbsp;draw&nbsp;our&nbsp;own&nbsp;*/&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; window_class,&lt;/div&gt;&lt;div&gt;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; XCB_WINDOW_CLASS_COPY_FROM_PARENT,&nbsp;/*&nbsp;copy&nbsp;visual&nbsp;from&nbsp;parent&nbsp;*/&lt;/div&gt;&lt;div&gt;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; visual_id,&lt;/div&gt;&lt;div&gt;<br>
<br>
+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //XCB_WINDOW_CLASS_COPY_FROM_PARENT,&nbsp;/*&nbsp;copy&nbsp;visual&nbsp;from&nbsp;parent&nbsp;*/&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mask,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; values);&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;-- &lt;/div&gt;&lt;div&gt;1.7.8.3&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
