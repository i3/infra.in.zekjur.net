<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [i3] [PATCH] Transparency support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20%5BPATCH%5D%20Transparency%20support&In-Reply-To=%3C1327767281-sup-8641%40stapelberg.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000434.html">
   <LINK REL="Next"  HREF="000421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[i3] [PATCH] Transparency support</H1>
    <B>Michael Stapelberg</B> 
    <A HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20%5BPATCH%5D%20Transparency%20support&In-Reply-To=%3C1327767281-sup-8641%40stapelberg.de%3E"
       TITLE="[i3] [PATCH] Transparency support">michael+i3 at stapelberg.de
       </A><BR>
    <I>Sat Jan 28 17:25:17 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000434.html">[i3] [PATCH] Transparency support
</A></li>
        <LI>Next message: <A HREF="000421.html">[i3] Help with configuration tweaking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#435">[ date ]</a>
              <a href="thread.html#435">[ thread ]</a>
              <a href="subject.html#435">[ subject ]</a>
              <a href="author.html#435">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Raven,

Excerpts from DR's message of 2012-01-28 12:48:12 +0000:
&gt;<i> Sorry for that. I'll re-send the patch.
</I>Thanks.

&gt;<i> The expected result is that urxvt would be transparent without
</I>&gt;<i> transset-df (and this is how urxvt in most other wm works).
</I>&gt;<i> 
</I>&gt;<i> With wm like wmii, you only need to put:
</I>&gt;<i> 
</I>&gt;<i> URxvt.depth:        32
</I>&gt;<i> Urxvt.background:      rgba:0000/0000/0000/7777
</I>&gt;<i> 
</I>&gt;<i> In your .Xresources, and start xcompmgr, urxvt would be transparent.
</I>I see, thanks for describing.

I basically re-implemented your patch because I wanted to eliminate more
round-trips for this patch. Have a look at how I did it if you are interested
in the issues. The most important things were lack of documentation and
introduction of three functions dealing with visuals where one loop is enough.
To make the borders visible, you just need to set the high bits of each
colorpixel to FF.

I pushed this in a separate branch:
<A HREF="http://code.stapelberg.de/git/i3/commit/?h=transparency&amp;id=78cc929cdaaf75abea297241fd88977bd58b6e19">http://code.stapelberg.de/git/i3/commit/?h=transparency&amp;id=78cc929cdaaf75abea297241fd88977bd58b6e19</A>

Please check out the branch and confirm that it works for you (it worked in my
quick tests). Note that you need to start i3 with --enable-32bit-visual &#8212; I
decided to make this opt-in since it makes workspace switching and redrawing
considerably slower on my computer.

Best regards,
Michael
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000434.html">[i3] [PATCH] Transparency support
</A></li>
	<LI>Next message: <A HREF="000421.html">[i3] Help with configuration tweaking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#435">[ date ]</a>
              <a href="thread.html#435">[ thread ]</a>
              <a href="subject.html#435">[ subject ]</a>
              <a href="author.html#435">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">More information about the i3-discuss
mailing list</a><br>
</body></html>
