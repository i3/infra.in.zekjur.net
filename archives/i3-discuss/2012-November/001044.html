<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [i3] [PATCH 4/5] Alignment fixes for i3bar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20%5BPATCH%204/5%5D%20Alignment%20fixes%20for%20i3bar&In-Reply-To=%3CCAMO0NGZBahoPUvafZ18q0_nd4dhpivGYuWpFroo4BVqM%3DLf%3DHA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001041.html">
   <LINK REL="Next"  HREF="001050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[i3] [PATCH 4/5] Alignment fixes for i3bar</H1>
    <B>Kevin Murphy</B> 
    <A HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20%5BPATCH%204/5%5D%20Alignment%20fixes%20for%20i3bar&In-Reply-To=%3CCAMO0NGZBahoPUvafZ18q0_nd4dhpivGYuWpFroo4BVqM%3DLf%3DHA%40mail.gmail.com%3E"
       TITLE="[i3] [PATCH 4/5] Alignment fixes for i3bar">kemurphy.cmu at gmail.com
       </A><BR>
    <I>Sun Nov 18 12:18:08 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001041.html">[i3] [PATCH 4/5] Alignment fixes for i3bar
</A></li>
        <LI>Next message: <A HREF="001050.html">[i3] [PATCH 4/5] Alignment fixes for i3bar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1044">[ date ]</a>
              <a href="thread.html#1044">[ thread ]</a>
              <a href="subject.html#1044">[ subject ]</a>
              <a href="author.html#1044">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This patch fixes vertical text alignment between the workspace labels,
window title, and status line, and horizontal spacing between the window
title and status line in i3bar.

Sorry for not elaborating more in the original description :)

Thanks,
Kevin

On Sun, Nov 18, 2012 at 5:56 AM, Kevin Murphy &lt;<A HREF="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">kemurphy.cmu at gmail.com</A>&gt;wrote:

&gt;<i> From: Kevin Murphy &lt;<A HREF="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">kemurphy at andrew.cmu.edu</A>&gt;
</I>&gt;<i>
</I>&gt;<i> ---
</I>&gt;<i>  i3bar/src/xcb.c | 6 +++---
</I>&gt;<i>  1 file changed, 3 insertions(+), 3 deletions(-)
</I>&gt;<i>
</I>&gt;<i> diff --git a/i3bar/src/xcb.c b/i3bar/src/xcb.c
</I>&gt;<i> index c20ff37..983d5ad 100644
</I>&gt;<i> --- a/i3bar/src/xcb.c
</I>&gt;<i> +++ b/i3bar/src/xcb.c
</I>&gt;<i> @@ -130,7 +130,7 @@ void refresh_statusline(void) {
</I>&gt;<i>          block-&gt;width = predict_text_width(block-&gt;full_text);
</I>&gt;<i>          /* If this is not the last block, add some pixels for a
</I>&gt;<i> separator. */
</I>&gt;<i>          if (TAILQ_NEXT(block, blocks) != NULL)
</I>&gt;<i> -            block-&gt;width += 9;
</I>&gt;<i> +            block-&gt;width += 10;
</I>&gt;<i>          statusline_width += block-&gt;width;
</I>&gt;<i>      }
</I>&gt;<i>
</I>&gt;<i> @@ -141,7 +141,7 @@ void refresh_statusline(void) {
</I>&gt;<i>          realloc_sl_buffer();
</I>&gt;<i>
</I>&gt;<i>      /* Clear the statusline pixmap. */
</I>&gt;<i> -    xcb_rectangle_t rect = { 0, 0, root_screen-&gt;width_in_pixels,
</I>&gt;<i> font.height };
</I>&gt;<i> +    xcb_rectangle_t rect = { 0, 0, root_screen-&gt;width_in_pixels,
</I>&gt;<i> font.height + 4 };
</I>&gt;<i>      xcb_poly_fill_rectangle(xcb_connection, statusline_pm,
</I>&gt;<i> statusline_clear, 1, &amp;rect);
</I>&gt;<i>
</I>&gt;<i>      /* Draw the text of each block. */
</I>&gt;<i> @@ -1576,7 +1576,7 @@ void draw_bars(bool unhide) {
</I>&gt;<i>                            outputs_walk-&gt;buffer,
</I>&gt;<i>                            outputs_walk-&gt;bargc,
</I>&gt;<i>                            MAX(0, (int16_t)(statusline_width -
</I>&gt;<i> outputs_walk-&gt;rect.w + 4)), 0,
</I>&gt;<i> -                          MAX(0, (int16_t)(outputs_walk-&gt;rect.w -
</I>&gt;<i> statusline_width - traypx - 4)), 3,
</I>&gt;<i> +                          MAX(0, (int16_t)(outputs_walk-&gt;rect.w -
</I>&gt;<i> statusline_width - traypx - 4)), 2,
</I>&gt;<i>                            MIN(outputs_walk-&gt;rect.w - traypx - 4,
</I>&gt;<i> statusline_width), font.height);
</I>&gt;<i>          }
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> 1.8.0
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20121118/afe515cc/attachment.html">http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20121118/afe515cc/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001041.html">[i3] [PATCH 4/5] Alignment fixes for i3bar
</A></li>
	<LI>Next message: <A HREF="001050.html">[i3] [PATCH 4/5] Alignment fixes for i3bar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1044">[ date ]</a>
              <a href="thread.html#1044">[ thread ]</a>
              <a href="subject.html#1044">[ subject ]</a>
              <a href="author.html#1044">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">More information about the i3-discuss
mailing list</a><br>
</body></html>
