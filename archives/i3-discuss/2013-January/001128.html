<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [i3] [PATCH] Minor fix for libi3/ipc_send_message.c
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20%5BPATCH%5D%20Minor%20fix%20for%20libi3/ipc_send_message.c&In-Reply-To=%3CCANVYNa-5fSot2-4NNo1D%3DdbWPZjKpBgWsyVNcuY956mpafRPOg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001127.html">
   <LINK REL="Next"  HREF="001129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[i3] [PATCH] Minor fix for libi3/ipc_send_message.c</H1>
    <B>Fernando Lemos</B> 
    <A HREF="mailto:i3-discuss%40i3.zekjur.net?Subject=Re%3A%20%5Bi3%5D%20%5BPATCH%5D%20Minor%20fix%20for%20libi3/ipc_send_message.c&In-Reply-To=%3CCANVYNa-5fSot2-4NNo1D%3DdbWPZjKpBgWsyVNcuY956mpafRPOg%40mail.gmail.com%3E"
       TITLE="[i3] [PATCH] Minor fix for libi3/ipc_send_message.c">fernandotcl at i3wm.org
       </A><BR>
    <I>Thu Jan 10 22:38:39 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001127.html">[i3] [PATCH] Minor fix for libi3/ipc_send_message.c
</A></li>
        <LI>Next message: <A HREF="001129.html">[i3] [PATCH] Minor fix for libi3/ipc_send_message.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1128">[ date ]</a>
              <a href="thread.html#1128">[ thread ]</a>
              <a href="subject.html#1128">[ subject ]</a>
              <a href="author.html#1128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2013/1/10 David Coppa &lt;<A HREF="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">dcoppa at gmail.com</A>&gt;

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> imho there's no need to copy so much for the ipc magic code.
</I>&gt;<i>
</I>
Hi, That's not how strncpy works. The third argument to strncpy is there to
prevent the buffer from overflowing. Use strncpy with buffer_size - 1 as
the third argument unless you know what you're doing.


This sync libi3/ipc_send_message.c with what i3bar/src/ipc.c does.
&gt;<i>
</I>
That code is using strncpy the wrong way. It's also incorrectly passing len
to strncpy, as the walk pointer has advanced and len hasn't been updated.
While that won't make i3bar crash if the math there is right, it's not
really correct code. Check with Michael first, but I believe he would
accept a patch that fixes that.

Regards,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20130110/514fdab6/attachment.html">http://infra.in.zekjur.net/pipermail/i3-discuss/attachments/20130110/514fdab6/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001127.html">[i3] [PATCH] Minor fix for libi3/ipc_send_message.c
</A></li>
	<LI>Next message: <A HREF="001129.html">[i3] [PATCH] Minor fix for libi3/ipc_send_message.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1128">[ date ]</a>
              <a href="thread.html#1128">[ thread ]</a>
              <a href="subject.html#1128">[ subject ]</a>
              <a href="author.html#1128">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://infra.in.zekjur.net/cgi-bin/mailman/listinfo/i3-discuss">More information about the i3-discuss
mailing list</a><br>
</body></html>
